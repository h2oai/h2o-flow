(function(){var n,t,e,i,r,o,u,a,s,c,l,h,f,d,g,v,p,m,w,b,y,k,x,C,q,S,W,O,T,E,N,Y,X,A,M,P,I,F,j,z,R,B,L,V,D,G,H,U,J,K,Q,Z,nt,tt,et,it,rt,ot,ut,at,st,ct,lt,ht,ft,dt,gt,vt,pt,mt,wt,bt,yt,_t,kt,xt,Ct,qt,St,Wt,Ot,Tt,Et,Nt,Yt,Xt,At,Mt,Pt,It,Ft,jt,zt,Rt,Bt,Lt,Vt,Dt,Gt,Ht,Ut,$t,Jt,Kt,Qt,Zt,ne,te,ee,ie,re,oe,ue,ae,se,ce,le,he,fe,de,ge,ve,pe,me,we,be,ye,_e,ke,xe,Ce,qe,Se,We,Oe,Te,Ee,Ne,Ye,Xe,Ae,Me,Pe,Ie,Fe,je,ze,Re,Be,Le,Ve,De,Ge,He,Ue,$e,Je,Ke,Qe,Ze,ni,ti,ei,ii,ri,oi,ui,ai,si,ci,li,hi,fi,di,gi,vi,pi,mi,wi,bi,yi,_i,ki,xi,Ci,qi,Si,Wi,Oi,Ti,Ei,Ni,Yi,Xi,Ai,Mi,Pi,Ii,Fi,ji,zi,Ri,Bi,Li,Vi,Di,Gi,Hi,Ui,$i,Ji,Ki,Qi,Zi,nr,tr,er,ir,rr,or,ur,ar,sr,cr,lr,hr,fr,dr,gr,vr,pr,mr,wr,br,yr,_r,kr,xr,Cr,qr,Sr,Wr,Or,Tr,Er,Nr,Yr,Xr,Ar,Mr,Pr,Ir,Fr,jr,zr,Rr,Br,Lr,Vr,Dr,Gr,Hr,Ur,$r,Jr,Kr,Qr,Zr,no,to,eo,io,ro,oo,uo,ao,so,co,lo,ho,fo,go,vo,po,mo,wo,bo,yo,_o,ko,xo,Co,qo,So,Wo,Oo,To,Eo,No,Yo,Xo,Ao,Mo,Po,Io,Fo,jo,zo,Ro,Bo,Lo,Vo,Do,Go,Ho,Uo,$o,Jo,Ko,Qo,Zo,nu,tu,eu,iu,ru,ou,uu,au,su,cu,lu,hu,fu,du,gu,vu,pu,mu,wu,bu,yu,_u,ku,xu,Cu,qu,Su,Wu,Ou,Tu,Eu,Nu,Yu,Xu,Au,Mu,Pu,Iu,Fu,ju,zu,Ru,Bu,Lu,Vu,Du,Gu,Hu,Uu,$u,Ju,Ku,Qu,Zu,na=[].slice,ta=function(n,t){function e(){this.constructor=n}for(var i in t)ea.call(t,i)&&(n[i]=t[i]);return e.prototype=t.prototype,n.prototype=new e,n.__super__=t.prototype,n},ea={}.hasOwnProperty;Hu=Math.PI,Uu=2*Hu,it=Hu/2,Gu=1e-6,V=Gu*Gu,At=Hu/180,F=180/Hu,qe=Math.tan(30*At),ae=Math.sqrt(3),y=16581375,Oe="transparent",xe="undefined",we="null",ge="Boolean",ke="String",be="Number",me="Function",ye="Object",de="Array",fe="Arguments",ve="Date",_e="RegExp",pe="Error",Vu=function(n){var t;if(t=Object.prototype.toString.call(n),null===n)return we;if(void 0===n)return xe;if(n===!0||n===!1||"[object Boolean]"===t)return ge;switch(t){case"[object String]":return ke;case"[object Number]":return be;case"[object Function]":return me;case"[object Object]":return ye;case"[object Array]":return de;case"[object Arguments]":return fe;case"[object Date]":return ve;case"[object RegExp]":return _e;case"[object Error]":return pe;default:return t}},wt=function(){function n(n,t){this.match=n,this.func=t}return n}(),or=function(){var n,t;return n=function(t){var e,i,r;switch(i=Vu(t)){case xe:return function(n){return void 0===n};case we:return function(n){return null===n};case ge:return function(n){return t===Boolean||n===t};case ke:return function(n){return t===String||n===t};case be:return function(n){return t===Number||n===t||_.isNaN(n)&&_.isNaN(t)};case _e:return function(){return t===RegExp};case Error:return function(){return t===Error};case ve:return function(n){return t===Date||n===t};case de:return 1===t.length&&me===(r=Vu(t[0]))?(e=n(t[0]),function(n){var t,i,r;if(de!==Vu(n))return!1;for(i=0,r=n.length;r>i;i++)if(t=n[i],!e(t))return!1;return!0}):function(n){return t===Array||Qe(t,n)};case me:return function(n){var e;return n instanceof t?!0:n&&n.constructor===t?!0:(e=Vu(n),t===Boolean&&e===ge||t===String&&e===ke||t===Number&&e===be)};case ye:return function(n){var e,i;for(e in t)if(i=t[e],n[e]!==i)return!1;return!0};default:return function(){return!1}}},t=function(t){var e;return e=_.map(t,n),function(n){var t,i,r,o;if(0===n.length)return!1;if(n.length!==e.length)return!1;for(i=r=0,o=e.length;o>r;i=++r)if(t=e[i],!t(n[i]))return!1;return!0}},function(){var n,e;return n=1<=arguments.length?na.call(arguments,0):[],e=_.map(n,function(n){var e,i,r;return i=2<=n.length?na.call(n,0,r=n.length-1):(r=0,[]),e=n[r++],new wt(t(i),e)}),function(){var n,t,i,r;for(n=1<=arguments.length?na.call(arguments,0):[],i=0,r=e.length;r>i;i++)if(t=e[i],t.match(n))return t.func.apply(null,n);throw new Error("Pattern match failure for args [ "+_.map(n,function(n){return""+n+":"+Vu(n)}).join(", ")+" ]")}}}(),g=function(){function n(n,t){this.put=n,this.test=t}return n}(),mt=function(){function n(n,t){this.put=n,this.test=t}return n}(),ee=function(){function n(n,t){this.width=n,this.height=t}return n}(),It=function(){function n(n,t,e,i){this.left=n,this.top=t,this.width=e,this.height=i}return n}(),ze=function(){function n(n,t,e,i,r,o,u){this.name=n,this.label=t,this.type=e,this.at=i,this.count=r,this.domain=o,this.format=u}return n}(),G=function(n){function t(n,e,i,r,o,u,a,s){this.valueAt=o,t.__super__.constructor.call(this,n,e,i,r,u,a,s)}return ta(t,n),t}(ze),ft=function(n){function t(n,e,i,r,o,u){t.__super__.constructor.call(this,n,e,ye,i,r,o,u)}return ta(t,n),t}(ze),tt=function(){function n(){}return n}(),Z=function(){function n(n,t,e,i,r,o,u,a,s){this.label=n,this.vectors=t,this.schema=e,this.indices=i,this.cube=r,this.at=o,this.evaluate=u,this.attach=a,this.metadata=s}return n}(),Te=function(){function n(n){this.value=n}return n}(),bt=function(n){function t(n){t.__super__.constructor.call(this,n)}return ta(t,n),t}(Te),se=function(n){function t(n){t.__super__.constructor.call(this,n)}return ta(t,n),t}(Te),I=function(n){function t(n){t.__super__.constructor.call(this,n)}return ta(t,n),t}(Te),o=function(n){function t(n){t.__super__.constructor.call(this,n)}return ta(t,n),t}(Te),U=function(){function n(n){this.name=n}return n}(),dt=function(n){function t(n){this.evaluate=n}return ta(t,n),t}(U),jt=function(n){function t(n){this.evaluate=n}return ta(t,n),t}(U),J=function(){function n(n,t){this.color=n,this.opacity=t}return n}(),ce=function(){function n(n,t,e){this.color=n,this.opacity=t,this.size=e}return n}(),Ce=function(){function n(n){this.fields=n}return n}(),Pt=function(){function n(n){this.index=n}return n}(),pt=function(){function n(){}return n}(),Wt=function(n){function t(n,t,e,i,r,o,u,a){this.position=n,this.shape=t,this.size=e,this.fillColor=i,this.fillOpacity=r,this.strokeColor=o,this.strokeOpacity=u,this.lineWidth=a}return ta(t,n),t}(pt),kt=function(n){function t(n,t,e,i){this.position=n,this.strokeColor=t,this.strokeOpacity=e,this.lineWidth=i}return ta(t,n),t}(pt),Rt=function(n){function t(n,t,e,i){this.position=n,this.strokeColor=t,this.strokeOpacity=e,this.lineWidth=i}return ta(t,n),t}(pt),Ft=function(n){function t(n,t,e,i,r,o,u,a){this.position=n,this.width=t,this.height=e,this.fillColor=i,this.fillOpacity=r,this.strokeColor=o,this.strokeOpacity=u,this.lineWidth=a}return ta(t,n),t}(pt),vt=function(){function n(){}return n}(),Tt=function(n){function t(n,t,e,i,r,o,u,a,s,c){this.space=n,this.positionX=t,this.positionY=e,this.shape=i,this.size=r,this.fillColor=o,this.fillOpacity=u,this.strokeColor=a,this.strokeOpacity=s,this.lineWidth=c,this.geometry=Ot}return ta(t,n),t}(vt),Vt=function(n){function t(n,t,e,i,r,o,u,a,s,c,l){this.space=n,this.q0=t,this.q1=e,this.q2=i,this.q3=r,this.qn=o,this.positionY=u,this.height=a,this.strokeColor=s,this.strokeOpacity=c,this.lineWidth=l,this.geometry=Lt}return ta(t,n),t}(vt),Ht=function(n){function t(n,t,e,i,r,o,u,a,s,c,l){this.space=n,this.positionX=t,this.q0=e,this.q1=i,this.q2=r,this.q3=o,this.qn=u,this.width=a,this.strokeColor=s,this.strokeOpacity=c,this.lineWidth=l,this.geometry=Gt}return ta(t,n),t}(vt),m=function(n){function t(n,t,e,i,r,o,u,a,s,c){this.space=n,this.positionX=t,this.positionY1=e,this.positionY2=i,this.width=r,this.fillColor=o,this.fillOpacity=u,this.strokeColor=a,this.strokeOpacity=s,this.lineWidth=c,this.geometry=p}return ta(t,n),t}(vt),r=function(n){function t(n,t,e,r,o,u,a,s,c,l){this.space=n,this.positionX1=t,this.positionX2=e,this.positionY=r,this.height=o,this.fillColor=u,this.fillOpacity=a,this.strokeColor=s,this.strokeOpacity=c,this.lineWidth=l,this.geometry=i}return ta(t,n),t}(vt),Ct=function(n){function t(n,t,e,i,r,o){this.space=n,this.positionX=t,this.positionY=e,this.strokeColor=i,this.strokeOpacity=r,this.lineWidth=o,this.geometry=xt}return ta(t,n),t}(vt),Se=function(n){function t(n,t,e,i,r,o,u){this.space=n,this.positionX=t,this.positionY=e,this.text=i,this.size=r,this.fillColor=o,this.fillOpacity=u,this.geometry=TextGeometry}return ta(t,n),t}(vt),L=function(){function n(){}return n}(),St=function(n){function t(n,t,e,i,r,o,u,a,s,c,l){this.positionX=n,this.positionY=t,this.shape=e,this.size=i,this.fill=r,this.fillColor=o,this.fillOpacity=u,this.stroke=a,this.strokeColor=s,this.strokeOpacity=c,this.lineWidth=l}return ta(t,n),t}(L),Bt=function(n){function t(n,t,e,i,r,o,u,a,s,c,l){this.q0=n,this.q1=t,this.q2=e,this.q3=i,this.qn=r,this.positionY=o,this.height=u,this.stroke=a,this.strokeColor=s,this.strokeOpacity=c,this.lineWidth=l}return ta(t,n),t}(L),Dt=function(n){function t(n,t,e,i,r,o,u,a,s,c,l){this.positionX=n,this.q0=t,this.q1=e,this.q2=i,this.q3=r,this.qn=o,this.width=u,this.stroke=a,this.strokeColor=s,this.strokeOpacity=c,this.lineWidth=l}return ta(t,n),t}(L),v=function(n){function t(n,t,e,i,r,o,u,a,s,c,l){this.positionX=n,this.positionY1=t,this.positionY2=e,this.width=i,this.fill=r,this.fillColor=o,this.fillOpacity=u,this.stroke=a,this.strokeColor=s,this.strokeOpacity=c,this.lineWidth=l}return ta(t,n),t}(L),e=function(n){function t(n,t,e,i,r,o,u,a,s,c,l){this.positionX1=n,this.positionX2=t,this.positionY=e,this.height=i,this.fill=r,this.fillColor=o,this.fillOpacity=u,this.stroke=a,this.strokeColor=s,this.strokeOpacity=c,this.lineWidth=l}return ta(t,n),t}(L),_t=function(n){function t(n,t,e,i,r,o){this.positionX=n,this.positionY=t,this.stroke=e,this.strokeColor=i,this.strokeOpacity=r,this.lineWidth=o}return ta(t,n),t}(L),ue=function(){function n(n,t){this.x=n,this.y=t}return n}(),oe=function(){function n(n,t,e){this.type=n,this.vectors=t,this.domain=e}return n}(),t=function(){function n(){}return n}(),c=function(n){function t(n,t,e,i,r,o,u){this.type=n,this.label=t,this.scale=e,this.domain=i,this.range=r,this.rect=o,this.guide=u}return ta(t,n),t}(t),ht=function(n){function t(n,t,e,i,r,o,u){this.type=n,this.label=t,this.scale=e,this.domain=i,this.range=r,this.rect=o,this.guide=u}return ta(t,n),t}(t),We=function(){function n(n,t){this.value=n,this.label=t}return n}(),B=function(){function n(n,t){this.label=n,this.encode=t}return n}(),C=function(n){function t(n){this.value=n,t.__super__.constructor.call(this,"Constant",Ke(this.value))}return ta(t,n),t}(B),Ee=function(n){function t(n,e,i){this.vector=i,t.__super__.constructor.call(this,n,e)}return ta(t,n),t}(B),Nt=function(n){function t(n,e,i,r,o,u){this.domain=r,this.range=o,this.guide=u,t.__super__.constructor.call(this,n,e,i)}return ta(t,n),t}(Ee),b=function(n){function t(n,e,i,r,o,u){this.domain=r,this.range=o,this.guide=u,t.__super__.constructor.call(this,n,e,i)}return ta(t,n),t}(Ee),yt=function(n){function t(n,e,i,r,o,u){this.domain=r,this.range=o,this.guide=u,t.__super__.constructor.call(this,n,e,i)}return ta(t,n),t}(Ee),re=function(n){function t(n,e,i,r,o,u){this.domain=r,this.range=o,this.guide=u,t.__super__.constructor.call(this,n,e,i)}return ta(t,n),t}(Ee),Zt=function(n){function t(n,e,i,r,o,u){this.domain=r,this.range=o,this.guide=u,t.__super__.constructor.call(this,n,e,i)}return ta(t,n),t}(Ee),d=function(){function n(){}return n}(),w=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return ta(t,n),t}(d),A=function(n){function t(n){this.field=n}return ta(t,n),t}(d),Et=function(n){function t(n){this.coordinates=n}return ta(t,n),t}(d),K=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return ta(t,n),t}(d),Q=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return ta(t,n),t}(d),le=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return ta(t,n),t}(d),he=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return ta(t,n),t}(d),ie=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return ta(t,n),t}(d),Ve=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return ta(t,n),t}(d),ot=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return ta(t,n),t}(d),lt=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return ta(t,n),t}(d),Qt=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return ta(t,n),t}(d),q=function(n){function t(n){this.value=n}return ta(t,n),t}(K),Ne=function(n){function t(n,t){this.field=n,this.range=t}return ta(t,n),t}(K),S=function(n){function t(n){this.value=n}return ta(t,n),t}(Q),Ye=function(n){function t(n,t){this.field=n,this.range=t}return ta(t,n),t}(Q),N=function(n){function t(n){this.value=n}return ta(t,n),t}(le),Ie=function(n){function t(n,t){this.field=n,this.range=t}return ta(t,n),t}(le),Y=function(n){function t(n){this.value=n}return ta(t,n),t}(he),Fe=function(n){function t(n,t){this.field=n,this.range=t}return ta(t,n),t}(he),E=function(n){function t(n){this.value=n}return ta(t,n),t}(ie),Pe=function(n){function t(n,t){this.field=n,this.range=t}return ta(t,n),t}(ie),X=function(n){function t(n){this.value=n}return ta(t,n),t}(Ve),je=function(n){function t(n,t){this.field=n,this.range=t}return ta(t,n),t}(Ve),W=function(n){function t(n){this.value=n}return ta(t,n),t}(ot),Xe=function(n){function t(n,t){this.field=n,this.range=t}return ta(t,n),t}(ot),O=function(n){function t(n){this.value=n}return ta(t,n),t}(lt),Ae=function(n){function t(n,t){this.field=n,this.range=t}return ta(t,n),t}(lt),T=function(n){function t(n){this.value=n}return ta(t,n),t}(Qt),Me=function(n){function t(n,t){this.field=n,this.range=t}return ta(t,n),t}(Qt),D=function(){function n(n,t){this.min=n,this.max=t}return n}(),Mt=function(){function n(){}return n}(),l=function(n){function t(n){this.values=n}return ta(t,n),t}(Mt),Yt=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return ta(t,n),t}(Mt),Kt=function(n){function t(n,t){this.min=n,this.max=t}return ta(t,n),t}(Yt),R=function(n){function t(n,t,e){this.min=n,this.mid=t,this.max=e}return ta(t,n),t}(Yt),x=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return ta(t,n),t}(Mt),Jt=function(n){function t(n,t){this.min=n,this.max=t}return ta(t,n),t}(x),z=function(n){function t(n,t,e){this.min=n,this.mid=t,this.max=e}return ta(t,n),t}(x),nt=function(){function n(n,t,e,i,r){this.encode=n,this.mask=t,this.highlight=e,this.render=i,this.select=r}return n}(),P=function(){function n(n){this.read=n}return n}(),s=function(){function n(n,t,e,i){this.element=n,this.context=t,this.bounds=e,this.ratio=i}return n}(),Re=function(){function n(n,t,e,i,r,o,u,a,s,c,l){this.box=n,this.container=t,this.baseCanvas=e,this.highlightCanvas=i,this.hoverCanvas=r,this.maskCanvas=o,this.clipCanvas=u,this.marquee=a,this.tooltip=s,this.mask=c,this.clip=l}return n}(),at=function(){function n(n,t,e,i,r,o){this.encodings=n,this.encoders=t,this.mask=e,this.highlight=i,this.render=r,this.select=o}return n}(),Be=function(){function n(n,t,e,i,r,o,u,a){this.viewport=n,this.frame=t,this.test=e,this.highlight=i,this.hover=r,this.selectAt=o,this.selectWithin=u,this.render=a}return n}(),qt=function(){function n(n,t,e){this.element=n,this.subscribe=t,this.unsubscribe=e}return n}(),u=function(){function n(n,t){this.width=n,this.height=t}return n}(),zt=function(){function n(n,t,e,i,r){this.center=n,this.left=t,this.top=e,this.right=i,this.bottom=r}return n}(),gt=function(){function n(n,t,e,i){this.left=n,this.top=t,this.right=e,this.bottom=i}return n}(),a=function(){function n(n,t,e){var i;this.width=n,this.height=t,this.margin=e,this.regions=new zt(i=new It(e.left,e.top,n-e.left-e.right,t-e.top-e.bottom),new It(0,e.top,e.left,i.height),new It(e.left+i.width,e.top,e.right,i.height),new It(e.left,0,i.width,e.top),new It(e.left,e.top+i.height,i.width,e.bottom))}return n}(),Xt=function(){function n(n,t,e,i,r){this.select=n,this.where=t,this.limit=e,this.group=i,this.having=r}return n}(),h=function(){function n(n,t){this.key=n,this.value=t}return n}(),n=new h(0,"All"),M=function(){function n(n,t,e,i){this.frame=n,this.hierarchy=t,this.cells=e,this.dimension=i}return n}(),st=function(){function n(n,t,e){this.category=n,this.indices=t,this.children=e}return n}(),f=function(){function n(n,t){this.levels=n,this.indices=t}return n}(),H=function(){function n(n,t,e,i,r){this.at=n,this.valueAt=t,this.count=e,this.domain=i,this.format=r}return n}(),et=function(){function n(n){this.fields=n}return n}(),$t=function(){function n(n,t,e){this.name=n,this.fields=t,this.func=e}return n}(),Le=function(){function n(n,t){this.fields=n,this.predicate=t}return n}(),ct=function(){function n(n,t){this.offset=n,this.length=t}return n}(),rt=function(){function n(n,t){this.fields=n,this.predicate=t}return n}(),ut=function(){function n(n,t){this.vectors=n,this.index=t}return n}(),Ut=function(){function n(n,t){this.vectors=n,this.indices=t}return n}(),j=function(){function n(n){this.vectors=n}return n}(),Bu=function(n){return n*n},ii=function(n,t){return function(e){return n>e?n:e>t?t:e}},ei=ii(0,1),rr=8,wi=function(n){return n.slice(0)},$r=function(n,t){var e,i,r,o,u,a,s,c;for(r=[],o=0,a=n.length;a>o;o++)for(e=n[o],c=t(e),u=0,s=c.length;s>u;u++)i=c[u],r.push(i);return r},wo=function(){var n,t;return t=arguments[0],n=2<=arguments.length?na.call(arguments,1):[],function(){return t.apply(null,n)}},Ke=function(n){return function(){return n}},Qe=function(n,t){var e,i,r,o;if(n&&t&&n.length===t.length){for(e=r=0,o=n.length;o>r;e=++r)if(i=n[e],i!==t[e])return!1;return!0}return!1},Dr=function(){var n,t,e,i,r,o,u,a,s;for(t=arguments[0],r=2<=arguments.length?na.call(arguments,1):[],e=[],o=0,a=t.length;a>o;o++)for(n=t[o],u=0,s=r.length;s>u;u++)i=r[u],n instanceof i&&e.push(n);return e},Ur=function(){var n,t,e,i,r,o,u,a;for(t=arguments[0],i=2<=arguments.length?na.call(arguments,1):[],r=0,u=t.length;u>r;r++)for(n=t[r],o=0,a=i.length;a>o;o++)if(e=i[o],n instanceof e)return n},Yi=function(n,t){return t>n?new D(n,t):new D(t,n)},gi=function(n){var t,e,i,r,o;for(e=Number.POSITIVE_INFINITY,t=Number.NEGATIVE_INFINITY,r=0,o=n.length;o>r;r++)i=n[r],void 0!==i&&(e>=i&&(e=i),i>=t&&(t=i));return new D(e,t)},mi=function(n){return function(t){return t.min>=n&&t.max>n?1:t.min<n&&t.max<=n?-1:0}},pi=mi(0),li=function(n,t){return new D(Math.min(n.min,t.min),Math.max(n.max,t.max))},ro=function(n){return function(t){return t.min>n&&t.max>n?new D(n,t.max):t.min<n&&t.max<n?new D(t.min,n):t}},io=ro(0),ji=function(n,t,e){var i,r,o;return r=function(){return t.length},i=function(n){return t[n]},o=e?function(n){return e(t[n],n)}:i,new ft(n,n,i,r,t,o)},tr=function(n,t,e,i){return Qu(n,n,t,e,i)},Qu=function(n,t,e,i,r){var o,u,a,s;return a=gi(i),u=function(){return i.length},o=function(n){return i[n]},s=r?function(n){return r(i[n],n)}:o,new ze(n,t,e,o,u,a,s)},Vr=function(n,t,e){var i,r,o,u,a,s,c,l,f,d,g,v,p;for(p=0,g={},l=t(),o=new Array(l),u=function(){var n,t,i;for(i=[],n=0,t=e.length;t>n;n++)f=e[n],i.push(g[f]=new h(p++,f));return i}(),c=v=0;l>=0?l>v:v>l;c=l>=0?++v:--v)a=n(c),f=void 0!==a?a:"?",(r=g[f])||u.push(g[f]=r=new h(p++,f)),o[c]=r;return i=function(n){return o[n]},d=function(n){return o[n].value},s=function(n){return o[n].value},new H(i,d,t,u,s)},Xi=function(n,t,e,i){var r,o,u;return o=function(){return e.length},r=function(n){return e[n]},u=Vr(r,o,i||[]),new G(n,n,t,u.at,u.valueAt,o,u.domain,u.format)},yi=function(n,t){var e,i,r,o,u,a;return r="All",i=new h(0,r),a=function(){return r},e=function(){return i},o=function(){return t},u=function(){return r},new G(n,n,ke,e,a,o,[i],u)},Pi=function(n,t,e,i,r){var o,u;return u=_.indexBy(t,function(n){return n.name}),o=new Z(n,t,u,e,i,null,null,null,r||{}),o.evaluate=function(t){var e,r,a,s;return r=_.isArray(t)?t:[t],a=function(){var a,c,l;for(l=[],a=0,c=r.length;c>a;a++)if(e=r[a],e instanceof dt)l.push(o.evaluate(e.evaluate(o)));else if(e instanceof jt){if(!i)throw new Error("Cannot compute aggregate ["+e.name+"] on an unaggregated frame.");l.push(o.evaluate(e.evaluate(o,i)))}else{if(!(e instanceof U))throw new Error("Cannot evaluate ["+t+"] on frame ["+n+"].");if(!(s=u[e.name]))throw new Error("Vector ["+e.name+"] does not exist in frame ["+n+"].");l.push(s)}return l}(),_.flatten(a)},o.attach=function(e){if(u[e.name])throw new Error("Cannot attach vector ["+e.name+"]: a vector by that name already exists in frame ["+n+"]");return t.push(e),u[e.name]=e,e},o.exists=function(n){return u[n]?!0:!1},o},kr=function(n){var t,e,i,r,o,u,a,s,c,l,h;for(u=new Array(n.indices.length),e=_.map(n.vectors,function(n){return n instanceof G?n.valueAt:n.at}),h=n.indices,a=0,c=h.length;c>a;a++)for(i=h[a],u[i]=o=new Array(n.vectors.length),r=s=0,l=e.length;l>s;r=++s)t=e[r],o[r]=t(i);return u},Gi=function(n){return new Xt(Dr(n,$t),Dr(n,Le),Dr(n,ct),Dr(n,et),Dr(n,rt))},Mi=function(n){return _.map(n,function(n){return new U(n)})},Ai=function(n){return new dt(function(t){var e,i,r,o,u,a,s,c;if(s=_.head(t.evaluate(n)),s instanceof G)return n;for(u=s.count(),e=s.at,r=new Array(u),o=c=0;u>=0?u>c:c>u;o=u>=0?++c:--c)void 0!==(a=e(o))&&(r[o]=""+a);return t.attach(i=Xi("factor("+s.label+")",ke,r)),[new U(i.name)]})},_i=function(n){return new dt(function(t){return t.attach(yi(n,t.indices.length)),[new U(n)]})},No=or([String,function(n){return No(new U(n))}],[U,function(n){return Ai(n)}],[se,function(n){var t;return t=n.value,_i(t)}]),Qi=function(n,t){return new dt(function(e){var i,r,o,u,a,s,c,l,h,f,d,g,v,p,m,w,b,y,k,x,C,q,S;if(b=_.head(e.evaluate(n)),b instanceof G)throw new Error("Cannot stack factor ["+b.label+"]: expecting vector.");for(d=b.count(),m=new Array(d),c=new Array(d),p="low("+b.name+", "+t+")",s="high("+b.name+", "+t+")",i=b.at,o=e.cube,t=Math.min(t,o.dimension),r=o.cells,v=a=0,y=new Array(t),S=e.indices,k=0,q=S.length;q>k;k++){for(l=S[k],g=r[l].levels,h=x=0;t>=0?t>x:x>t;h=t>=0?++x:--x)if(y[h]!==g[h].category){for(v=a=0,f=C=0;t>=0?t>C:C>t;f=t>=0?++C:--C)y[f]=g[f].category;break}w=i(l),0>w?(m[l]=v,c[l]=v+=w):(m[l]=a,c[l]=a+=w)}return u=function(n,t){return b.format(t)},e.attach(Qu(p,b.name,b.type,m,u)),e.attach(Qu(s,b.name,b.type,c,u)),[new U(p),new U(s)]})},au=or([String,Number,function(n,t){return au(new U(n),t)}],[U,Number,function(n,t){return Qi(n,t)}]),pu=function(n){var t;return t=ii(0,n.length-1),function(e){return n[t(-1+Math.round(e*n.length))]}},vi=function(n){var t,e,i,r,o,u,a,s;return s=function(){var t,e,i;for(i=[],t=0,e=n.length;e>t;t++)a=n[t],(a||0===a)&&i.push(a);return i}(),s.sort(function(n,t){return n-t}),e=s[0],t=s[s.length-1],u=pu(s),i=u(.25),r=u(.5),o=u(.75),[e,i,r,o,t]},Ge=function(n){var t,e,i,r,o;for(e=0,t=0,r=0,o=n.length;o>r;r++)i=n[r],void 0!==i&&(e+=i,t++);return e/t},He=function(n){var t,e,i,r;for(t=0,i=0,r=n.length;r>i;i++)e=n[i],void 0!==e&&t++;return t},Ue=function(n){var t,e,i,r;for(t=Number.NEGATIVE_INFINITY,i=0,r=n.length;r>i;i++)e=n[i],void 0!==e&&e>=t&&(t=e);return t},$e=function(n){var t,e,i,r;for(t=Number.POSITIVE_INFINITY,i=0,r=n.length;r>i;i++)e=n[i],void 0!==e&&t>=e&&(t=e);return t},Je=function(n){var t,e,i,r;for(t=0,i=0,r=n.length;r>i;i++)e=n[i],void 0!==e&&(t+=e);return t},bi=function(n,t,e,i,r){return new jt(function(o,u){var a,s,c,l,h,f,d,g,v,p,m,w,b,y,k,x;if(d=t+"("+n.name+")",o.exists(d))return new U(d);for(p=_.head(u.frame.evaluate(n)),a=p.at,l=new Array(u.cells.length),k=u.cells,f=m=0,b=k.length;b>m;f=++m){for(s=k[f],v=[],x=s.indices,w=0,y=x.length;y>w;w++)h=x[w],void 0!==(g=a(h))&&v.push(g);l[f]=r(v)}return o.attach(c=tr(d,e,l,i)),[new U(c.name)]})},qo=function(n,t,e,i){return or([String,function(r){return bi(new U(r),n,t,e,i)}],[U,function(r){return bi(r,n,t,e,i)}])},Wo=qo("count",be,_.identity,He),So=qo("avg",be,_.identity,Ge),Go=qo("max",be,_.identity,Ue),Ho=qo("min",be,_.identity,$e),lu=qo("sum",be,_.identity,Je),Po=function(){var n,t,e;return t=1<=arguments.length?na.call(arguments,0):[],e=function(){var e,i,r;for(r=[],e=0,i=t.length;i>e;e++)if(n=t[e],n instanceof U)r.push(n);else{if(!_.isString(n))throw new Error("Cannot group by ["+n+"]");r.push(new U(n))}return r}(),new et(e)},xo=or([String,[String],Function,function(n,t,e){return new $t(n,Mi(t),e)}]),ru=function(){var n,t,e,i;return e=arguments[0],t=3<=arguments.length?na.call(arguments,1,i=arguments.length-1):(i=1,[]),n=arguments[i++],xo(e,t.length?t:[e],n)},Co=or([[String],Function,function(n,t){return new Le(Mi(n),t)}]),du=function(){var n,t,e;return t=2<=arguments.length?na.call(arguments,0,e=arguments.length-1):(e=0,[]),n=arguments[e++],Co(t,n)},Lo=or([Number,Number,function(n,t){return new ct(n,t)}],[Number,function(n){return new ct(0,n)}]),ko=or([[String],Function,function(n,t){return new rt(Mi(n),t)}],[[U],Function,function(n,t){return new rt(n,t)}]),Fo=function(){var n,t,e;return t=2<=arguments.length?na.call(arguments,0,e=arguments.length-1):(e=0,[]),n=arguments[e++],ko(t,n)},Eo=function(n){return function(t){return t===n}},Uo=function(n){return function(t){return t!==n}},Do=function(n){return function(t){return n>t}},Io=function(n){return function(t){return t>n}},Ro=function(n){return function(t){return n>=t}},Mo=function(n){return function(t){return t>=n}},Bo=function(n){if(_e!==Vu(n))throw new Error("like ["+n+"]: expecting RegExp");return function(t){return n.test(t)}},zo=function(){var n;return n=1<=arguments.length?na.call(arguments,0):[],function(t){var e,i,r;for(i=0,r=n.length;r>i;i++)if(e=n[i],e===t)return!0;return!1}},$o=function(){var n;return n=1<=arguments.length?na.call(arguments,0):[],function(t){var e,i,r;for(i=0,r=n.length;r>i;i++)if(e=n[i],e===t)return!1;return!0}},mu=function(t,e){var i,r,o,u,a,s,c,l,h,f,d;return c=e.where.length?Pi(t.label,t.vectors,Hr(t,e.where)):t,f=e.group.length?(s=$r(e.group,function(n){return n.fields}),u=function(){var n,t,e;for(e=[],n=0,t=s.length;t>n;n++){if(a=s[n],d=_.head(c.evaluate(a)),!(d instanceof G))throw new Error("Cannot group by ["+a.name+"]: not a Factor.");e.push(d)}return e}(),l={0:new st(n,c.indices,{})},Ze(l,u,0),r=[],ui(l[0].children,s.length-1,r,0,new Array(s.length)),o=new M(c,l,r,s.length),i=De(c.label+"'",o,u),e.having.length?Pi(i.label,i.vectors,Hr(i,e.having),i.cube):i):c,e.limit.length?(h=e.limit[e.limit.length-1],Pi(f.label,f.vectors,f.indices.slice(h.offset,h.offset+h.length))):f},Hr=function(n,t){var e,i,r,o,u,a,s,c,l,h,f,d,g,v,p,m;for(f=n.indices,h=0,v=t.length;v>h;h++){for(c=t[h],a=[],l=function(){var t,e,i,r;for(i=c.fields,r=[],t=0,e=i.length;e>t;t++)o=i[t],r.push(_.head(n.evaluate(o)));return r}(),r=_.map(l,function(n){return n instanceof G?n.valueAt:n.at}),d=0,p=f.length;p>d;d++){for(u=f[d],e=new Array(l.length),s=g=0,m=r.length;m>g;s=++g)i=r[s],e[s]=i(u);c.predicate.apply(null,e)&&a.push(u)}f=a}return f},De=function(n,t,e){var i,r,o;return i=_.range(t.cells.length),o=function(){var n,i,o;for(o=[],r=n=0,i=t.dimension;i>=0?i>n:n>i;r=i>=0?++n:--n)o.push(Lr(t,e[r],r));return o}(),Pi(n,o,i,t)},Ze=function(n,t,e){var i,r,o,u,a,s,c,l,h,f;i=t[e].at;for(s in n){for(c=n[s],u=c.children,f=c.indices,l=0,h=f.length;h>l;l++)a=f[l],r=i(a),(o=u[r.key])||(u[r.key]=o=new st(r,[],{})),o.indices.push(a);e<t.length-1&&Ze(u,t,e+1)}},ui=function(n,t,e,i,r){var o,u;for(o in n)u=n[o],r[i]=u,i===t?e.push(new f(wi(r),u.indices)):ui(u.children,t,e,i+1,r)},Lr=function(n,t,e){var i,r,o,u,a,s,c,l,h,f,d,g,v;for(a=new Array(n.cells.length),s={},c=[],v=n.cells,h=d=0,g=v.length;g>d;h=++d)o=v[h],a[h]=r=o.levels[e].category,s[r.value]||(s[r.value]=r,c.push(r));return i=function(n){return a[n]},f=function(n){return a[n].value},l=function(n){return a[n].value},u=function(){return a.length},new G(t.label,t.label,t.type,i,f,u,c,l)},k={c10:["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],c20:["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],c20b:["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],c20c:["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"]},bo=function(n){return n>10?k.c20:k.c10},oi=function(n){var t,e,i,r;return r=n.rgb(),i=r[0],e=r[1],t=r[2],chroma.rgb(i,e,t)},si=function(n){return n.css()},ci=function(n,t){return oi(n).alpha(t).css()},gr=function(n,t,e,i){var r;return r=Math.sqrt(i/Hu),n.beginPath(),n.arc(t,e,r,0,Uu,!1),n.closePath()},mr=function(n,t,e,i){var r;return r=.5*Math.sqrt(i),n.save(),n.translate(t,e),n.beginPath(),n.moveTo(r,r),n.lineTo(-r,r),n.lineTo(-r,-r),n.lineTo(r,-r),n.closePath(),n.restore()},vr=function(n,t,e,i){var r,o;return r=.5*Math.sqrt(i/5),o=3*r,n.save(),n.translate(t,e),n.beginPath(),n.moveTo(o,r),n.lineTo(r,r),n.lineTo(r,o),n.lineTo(-r,o),n.lineTo(-r,r),n.lineTo(-o,r),n.lineTo(-o,-r),n.lineTo(-r,-r),n.lineTo(-r,-o),n.lineTo(r,-o),n.lineTo(r,-r),n.lineTo(o,-r),n.closePath(),n.restore()},pr=function(n,t,e,i){var r,o;return o=Math.sqrt(i/(2*qe)),r=o*qe,n.save(),n.translate(t,e),n.beginPath(),n.moveTo(r,0),n.lineTo(0,o),n.lineTo(-r,0),n.lineTo(0,-o),n.closePath(),n.restore()},_r=function(n,t,e,i){var r,o;return r=Math.sqrt(i/ae),o=r*ae/2,n.save(),n.translate(t,e),n.beginPath(),n.moveTo(0,-o),n.lineTo(r,o),n.lineTo(-r,o),n.closePath(),n.restore()},wr=function(n,t,e,i){var r,o;return r=Math.sqrt(i/ae),o=r*ae/2,n.save(),n.translate(t,e),n.beginPath(),n.moveTo(0,o),n.lineTo(r,-o),n.lineTo(-r,-o),n.closePath(),n.restore()},yr=function(n,t,e,i){var r,o;return o=Math.sqrt(i/ae),r=o*ae/2,n.save(),n.translate(t,e),n.beginPath(),n.moveTo(r,0),n.lineTo(-r,o),n.lineTo(-r,-o),n.closePath(),n.restore()},br=function(n,t,e,i){var r,o;return o=Math.sqrt(i/ae),r=o*ae/2,n.save(),n.translate(t,e),n.beginPath(),n.moveTo(-r,0),n.lineTo(r,-o),n.lineTo(r,o),n.closePath(),n.restore()},te={circle:gr,square:mr,cross:vr,diamond:pr,triangleUp:_r,triangleDown:wr,triangleLeft:br,triangleRight:yr},ne={c8:["circle","square","cross","diamond","triangleUp","triangleDown","triangleLeft","triangleRight"]},yo=function(){return ne.c8},Pu=function(n){return function(t){return void 0!==t?n(t):void 0}},Bi=function(n,t){var e;return e=d3.scale.linear().domain([n.min,n.max]).range([t.min,t.max]).nice(),[Pu(e),e.tickFormat,e.ticks]},Li=function(n,t){var e,i,r,o,u,a,s;for(a=0,o={},u=0,s=n.length;s>u;u++)e=n[u],o[e.key]=a++;return i=(t.max-t.min)/n.length/2,r=t.min,Pu(function(n){return r+2*o[n.key]*i+i})},qi=function(n,t){var e,i;return i=t.values,e=i.length,Pu(function(n){return i[n.key%e]})},Ji=function(n,t){return Pu(d3.scale.linear().domain([n.min,n.max]).range([t.min,t.max]))},Ei=function(n,t){return Pu(d3.scale.linear().domain([n.min,n.mid,n.max]).range([t.min,t.mid,t.max]))},$i=function(n,t){return Pu(chroma.scale([t.min,t.max]).domain([n.min,n.max]).mode("lch"))},Ti=function(n,t){var e,i;return e=chroma.scale([t.min,t.mid]).domain([n.min,n.mid]).mode("lch"),i=chroma.scale([t.mid,t.max]).domain([n.mid,n.max]).mode("lch"),function(t){return void 0!==t?t<n.mid?e(t):i(t):void 0}},Wi=or([Kt,x,$i],[R,x,Ti]),Fi=or([Kt,Kt,Ji],[R,R,Ei]),ni=function(n){var t;return t=n.toString(16),1===t.length?"0"+t:t},Si=function(n){var t,e,i,r;return t=n.context,i=n.ratio,e=function(){return"#fff"},r=function(n,e){var r,o,u,a,s;return s=t.getImageData(n*i,e*i,1,1).data,a=s[0],u=s[1],o=s[2],r=s[3],255===a&&255===u&&255===o&&255===r},new g(e,r)},Ri=function(n){var t,e,i,r,o,u;return t=n.context,r=n.ratio,u=0,e={},i=function(n){var t,i,r,o;return i=u++,u>=y&&(u=0),e[i]=n,o=i>>16&255,r=i>>8&255,t=255&i,"#"+ni(o)+ni(r)+ni(t)},o=function(n,i){var o,u,a,s,c,l;return l=t.getImageData(n*r,i*r,1,1).data,c=l[0],s=l[1],u=l[2],o=l[3],255===o?(a=(c<<16)+(s<<8)+u,e[a]):void 0},new mt(i,o)},Ar=function(n,t){var e,i,r,o,u,a,s;return s=n.scale,i=n.domain,a=n.range,o=n.guide,u=t.label,e=t.at,r=function(n){return s(e(n))},new Nt(u,r,t,i,a,o)},Wr=function(n,t){return new C(n.scale(t))},Sr=function(n,t){var e,i,r,o,u,a,s;return t instanceof Ne||t instanceof Ie?(s=_.head(n.evaluate(t.field)),s instanceof G?(t.range||(t.range=new l(bo(s.domain.length))),u=qi(s.domain,t.range),e=s.at,r=function(n){return chroma(u(e(n)))},new b(s.label,r,s,s.domain,t.range,null)):(i=function(){switch(pi(s.domain)){case 1:return new Kt(s.domain.min,s.domain.max);
case-1:return new Kt(s.domain.min,s.domain.max);default:return new R(s.domain.min,0,s.domain.max)}}(),a=pi(i),o=t.range?t.range instanceof z?i instanceof Kt?1===a?new Jt(t.range.mid,t.range.max):new Jt(t.range.min,t.range.mid):t.range:(i instanceof R?i=new Kt(i.min,i.max):void 0,t.range):i instanceof Kt?1===a?new Jt("#deebf7","#3182bd"):new Jt("#e6550d","#fee6ce"):new z("#fc8d59","#ffffbf"),u=Wi(i,o),e=s.at,r=function(n){return u(e(n))},new b(s.label,r,s,i,o,null))):new C(t.value)},Nr=function(n,t){var e,i,r,o,u,a;if(t instanceof Ye||t instanceof Fe){if(a=_.head(n.evaluate(t.field)),a instanceof G)throw new Error("Could not encode opacity. Vector ["+a.label+"] is a Factor.");return i=new Kt(a.domain.min,a.domain.max),o=t.range?new Kt(ei(t.range.min),ei(t.range.max)):t.range=new Kt(.05,1),u=Fi(i,o),e=a.at,r=function(n){return u(e(n))},new yt(a.label,r,a,i,o,null)}return new C(ei(t.value))},zr=function(n,t){var e,i;return n&&t?(e=n.encode,i=t.encode,new Ee("("+n.label+", "+t.label+")",function(n){var t,r;return t=e(n),r=i(n),r>=0&&1>r?ci(t,r):si(t)})):void 0},Br=function(n,t){return function(e,i,r){var o,u,a,s,c,l;if(i instanceof n){if(l=_.head(e.evaluate(i.field)),l instanceof G)throw new Error("Could not encode size. Vector ["+l.label+"] is a Factor.");return u=new Kt(l.domain.min,l.domain.max),s=i.range?new Kt(ei(i.range.min),ei(i.range.max)):i.range=new Kt(.05,1),c=Fi(u,s),o=l.at,a=function(n){return r*c(o(n))},new t(l.label,a,u,s,null)}return new C(r*ei(i.value))}},Fr=Br(Pe,re),Rr=Br(je,re),Tr=Br(Xe,re),xr=function(n,t){var e,i,r,o,u,a;if(t instanceof Pe){if(a=_.head(n.evaluate(t.field)),a instanceof G)throw new Error("Could not encode size. Vector ["+a.label+"] is a Factor.");return i=new Kt(a.domain.min,a.domain.max),o=t.range?new Kt(Bu(t.range.min),Bu(t.range.max)):t.range=new Kt(Bu(rr),Bu(30)),u=Fi(i,o),e=a.at,r=function(n){return u(e(n))},new re(a.label,r,a,i,o,null)}return new C(Bu(t.value))},Er=function(n,t){var e,i,r,o,u,a;if(t instanceof Ae){if(a=_.head(n.evaluate(t.field)),a instanceof G)throw new Error("Could not encode lineWidth. Vector ["+a.label+"] is a Factor.");return i=new Kt(a.domain.min,a.domain.max),o=t.range?new Kt(t.range.min,t.range.max):t.range=new Kt(1.5,15),u=Fi(i,o),e=a.at,r=function(n){return u(e(n))},new re(a.label,r,a,i,o,null)}return new C(t.value)},Ir=function(n,t){var e,i,r,o;if(t instanceof Me){if(o=_.head(n.evaluate(t.field)),!(o instanceof G))throw new Error("Could not encode shape. Vector ["+o.label+"] is not a Factor.");return t.range||(t.range=new l(yo(o.domain.length))),r=qi(o.domain,t.range),e=o.at,i=function(n){return te[r(e(n))]},new Zt(o.label,i,o,o.domain,t.range,null)}return new C(te[t.value]||te.circle)},oo=function(n,t){return[null!=n?n:new q(chroma(_.head(k.c10))),null!=t?t:new S(1)]},ao=function(n,t,e){return[null!=n?n:new N(chroma(_.head(k.c10))),null!=t?t:new Y(1),null!=e?e:new O(1.5)]},uo=function(n,t,e,i,r,o,u){var a,s,c,l;return a=n||t,s=e||i||r,a||s||(o&&(a=!0),u&&(s=!0)),a&&(c=oo(n,t),n=c[0],t=c[1]),s&&(l=ao(e,i,r),e=l[0],i=l[1],r=l[2]),[n,t,e,i,r]},Or=function(n,t){var e,i;return t.fillColor||t.fillOpacity?[e=Sr(n,t.fillColor),i=Nr(n,t.fillOpacity),zr(e,i)]:[]},jr=function(n,t){var e,i;return t.strokeColor||t.strokeOpacity||t.lineWidth?[e=Sr(n,t.strokeColor),i=Nr(n,t.strokeOpacity),zr(e,i),Er(n,t.lineWidth)]:[]},ri=function(n,t,e,i,r){return n.beginPath(),n.rect(t,e,i,r),n.clip()},dr=function(n,t,e){return n.lineWidth=e,n.strokeStyle=t,n.stroke()},ar=function(n,t){return n.fillStyle=t,n.fill()},sr=function(n,t,e,i,r){return n.beginPath(),n.moveTo(t,e),n.lineTo(i,r),n.stroke()},lr=function(n,t,e,i,r){return n.beginPath(),i>e?n.rect(t-r/2,e,r,i-e):n.rect(t-r/2,i,r,e-i),n.closePath()},cr=function(n,t,e,i,r){return n.beginPath(),e>t?n.rect(t,i-r/2,e-t,r):n.rect(e,i-r/2,t-e,r),n.closePath()},hr=function(n,t,e,i,r,o,u,a,s,c){var l,h;return void 0!==t&&void 0!==e&&void 0!==i&&void 0!==r&&void 0!==o&&void 0!==u&&void 0!==a&&void 0!==s&&void 0!==c?(n.strokeStyle=s,n.lineWidth=c,cr(n,e,r,u,a),n.stroke(),l=a/2,h=a/4,sr(n,i,u-l,i,u+l),sr(n,e,u,t,u),sr(n,r,u,o,u),sr(n,t,u-h,t,u+h),sr(n,o,u-h,o,u+h)):void 0},fr=function(n,t,e,i,r,o,u,a,s,c){var l,h;return void 0!==t&&void 0!==e&&void 0!==i&&void 0!==r&&void 0!==o&&void 0!==u&&void 0!==a&&void 0!==s&&void 0!==c?(n.strokeStyle=s,n.lineWidth=c,lr(n,t,i,o,a),n.stroke(),l=a/2,h=a/4,sr(n,t-l,r,t+l,r),sr(n,t,i,t,e),sr(n,t,o,t,u),sr(n,t-h,e,t+h,e),sr(n,t-h,u,t+h,u)):void 0},Di=function(n,t){var e,i,r,o,u,a,s,c,l,h,f,d,g;return o=t[0],u=t[1],c=new ue([o],[u]),a=null!=(f=n.shape)?f:new T("circle"),s=null!=(d=n.size)?d:new E(rr),g=uo(n.fillColor,n.fillOpacity,n.strokeColor,n.strokeOpacity,n.lineWidth,!1,!0),e=g[0],i=g[1],l=g[2],h=g[3],r=g[4],new Tt(c,o,u,a,s,e,i,l,h,r)},Xr=function(n,t,e,i){var r,o,u,a,s,c,l,h,f,d,g,v,p;return s=Ar(e,t.positionX),c=Ar(i,t.positionY),l=Ir(n,t.shape),h=xr(n,t.size),v=Or(n,t),o=v[0],u=v[1],r=v[2],p=jr(n,t),d=p[0],g=p[1],f=p[2],a=p[3],new St(s,c,l,h,r,o,u,f,d,g,a)},no=function(n,t,e){var i,r,o,u,a,s,c,l,h,f,d,g,v,p;for(u=t.positionX,a=t.positionY,s=t.shape,c=t.size,i=t.fill,l=t.stroke,o=t.lineWidth,e.save(),d=0,v=n.length;v>d;d++)r=n[d],h=u(r),f=a(r),void 0!==h&&void 0!==f&&(s(r)(e,h,f,c(r)),e.lineWidth=2+(l?o(r):1),e.stroke());for(e.restore(),e.save(),e.globalCompositeOperation="destination-out",e.fillStyle=e.strokeStyle="black",g=0,p=n.length;p>g;g++)r=n[g],h=u(r),f=a(r),void 0!==h&&void 0!==f&&(s(r)(e,h,f,c(r)),l&&(e.lineWidth=o(r),e.stroke()),i&&e.fill());return e.restore()},vo=function(n,t,e,i){var r,o,u,a,s,c,l,h,f,d,g,v;for(a=t.positionX,s=t.positionY,c=t.shape,l=t.size,h=t.stroke,o=t.lineWidth,e.save(),g=0,v=n.length;v>g;g++)r=n[g],f=a(r),d=s(r),void 0!==f&&void 0!==d&&(u=i.put(r),c(r)(e,f,d,l(r)),e.fillStyle=u,e.fill(),h&&(e.lineWidth=o(r),e.strokeStyle=u,e.stroke()));return e.restore()},Eu=function(n,t,e){var i,r,o,u,a,s,c,l,h,f,d,g;for(u=t.positionX,a=t.positionY,s=t.shape,c=t.size,i=t.fill,l=t.stroke,o=t.lineWidth,e.save(),d=0,g=n.length;g>d;d++)r=n[d],h=u(r),f=a(r),void 0!==h&&void 0!==f&&(s(r)(e,h,f,c(r)),l&&(e.lineWidth=o(r),e.strokeStyle=l(r),e.stroke()),i&&(e.fillStyle=i(r),e.fill()));return e.restore()},ju=function(n,t,e,i,r,o){var u,a,s,c,l,h,f,d;for(a=t.positionX,s=t.positionY,c=[],f=0,d=n.length;d>f;f++)u=n[f],l=a(u),h=s(u),void 0!==l&&void 0!==h&&l>=e&&r>=l&&h>=i&&o>=h&&c.push(u);return c},Lu=function(n){return _.map(n,function(n){return n.type}).join(", ")},Hi=function(n,t){var e,i,o,u,a,s,c,l,h,f,d,g,v,p,w,b,y,_,k,x,C,q,S;switch(p=Lu(t)){case"String, Number":return a=t[0],f=t[1],d=new ue([a],[f]),w=null!=(b=n.width)?b:new X(.8),y=uo(n.fillColor,n.fillOpacity,n.strokeColor,n.strokeOpacity,n.lineWidth,!0,!1),e=y[0],i=y[1],g=y[2],v=y[3],u=y[4],new m(d,a,void 0,f,w,e,i,g,v,u);case"String, Number, Number":return a=t[0],h=t[1],f=t[2],d=new ue([a],[h,f]),w=null!=(_=n.width)?_:new X(.8),k=uo(n.fillColor,n.fillOpacity,n.strokeColor,n.strokeOpacity,n.lineWidth,!0,!1),e=k[0],i=k[1],g=k[2],v=k[3],u=k[4],new m(d,a,h,f,w,e,i,g,v,u);case"Number, String":return c=t[0],l=t[1],d=new ue([c],[l]),o=null!=(x=n.height)?x:new W(.8),C=uo(n.fillColor,n.fillOpacity,n.strokeColor,n.strokeOpacity,n.lineWidth,!0,!1),e=C[0],i=C[1],g=C[2],v=C[3],u=C[4],new r(d,void 0,c,l,o,e,i,g,v,u);case"Number, Number, String":return s=t[0],c=t[1],l=t[2],d=new ue([s,c],[l]),o=null!=(q=n.height)?q:new W(.8),S=uo(n.fillColor,n.fillOpacity,n.strokeColor,n.strokeOpacity,n.lineWidth,!0,!1),e=S[0],i=S[1],g=S[2],v=S[3],u=S[4],new r(d,s,c,l,o,e,i,g,v,u);default:throw new Error("Cannot create rect marks with vectors of type ["+p+"]")}},qr=function(n,t,e,i){var r,o,u,a,s,c,l,h,f,d,g,p,m;return s=Ar(e,t.positionX),c=t.positionY1?Ar(i,t.positionY1):Wr(i,0),l=Ar(i,t.positionY2),g=Fr(n,t.width,e.rect.width/e.domain.length),p=Or(n,t),o=p[0],u=p[1],r=p[2],m=jr(n,t),f=m[0],d=m[1],h=m[2],a=m[3],new v(s,c,l,g,r,o,u,h,f,d,a)},Cr=function(n,t,i,r){var o,u,a,s,c,l,h,f,d,g,v,p,m,w,b,y,_;switch(t.space.x.length){case 1:m=t.space.x[0],l=Wr(i,0),h=Ar(i,m);break;default:b=t.space.x,p=b[0],m=b[1],l=Ar(i,p),h=Ar(i,m)}return w=t.space.y[0],f=Ar(r,w),s=Fr(n,t.height,r.rect.height/r.domain.length),y=Or(n,t),u=y[0],a=y[1],o=y[2],_=jr(n,t),g=_[0],v=_[1],d=_[2],c=_[3],new e(l,h,f,s,o,u,a,d,g,v,c)},Qr=function(n,t,e){var i,r,o,u,a,s,c,l,h,f,d,g,v,p,m,w;for(u=t.positionX,a=t.positionY1,s=t.positionY2,h=t.width,i=t.fill,c=t.stroke,o=t.lineWidth,e.save(),v=0,m=n.length;m>v;v++)r=n[v],f=u(r),d=a(r),g=s(r),l=h(r),void 0!==f&&void 0!==d&&void 0!==g&&void 0!==l&&(lr(e,f,d,g,l),e.lineWidth=2+(c?o(r):1),e.stroke());for(e.restore(),e.save(),e.globalCompositeOperation="destination-out",e.fillStyle=e.strokeStyle="black",p=0,w=n.length;w>p;p++)r=n[p],f=u(r),d=a(r),g=s(r),l=h(r),void 0!==f&&void 0!==d&&void 0!==g&&void 0!==l&&(lr(e,f,d,g,l),c&&(e.lineWidth=o(r),e.stroke()),i&&e.fill());return e.restore()},Kr=function(n,t,e){var i,r,o,u,a,s,c,l,h,f,d,g,v,p,m,w;for(s=t.positionX1,c=t.positionX2,l=t.positionY,o=t.height,i=t.fill,h=t.stroke,a=t.lineWidth,e.save(),v=0,m=n.length;m>v;v++)u=n[v],f=s(u),d=c(u),g=l(u),r=o(u),void 0!==f&&void 0!==d&&void 0!==g&&void 0!==r&&(cr(e,f,d,g,r),e.lineWidth=2+(h?a(u):1),e.stroke());for(e.restore(),e.save(),e.globalCompositeOperation="destination-out",e.fillStyle=e.strokeStyle="black",p=0,w=n.length;w>p;p++)u=n[p],f=s(u),d=c(u),g=l(u),r=o(u),void 0!==f&&void 0!==d&&void 0!==g&&void 0!==r&&(cr(e,f,d,g,r),h&&(e.lineWidth=a(u),e.stroke()),i&&e.fill());return e.restore()},fo=function(n,t,e,i){var r,o,u,a,s,c,l,h,f,d,g,v,p,m;for(a=t.positionX,s=t.positionY1,c=t.positionY2,f=t.width,l=t.stroke,o=t.lineWidth,e.save(),p=0,m=n.length;m>p;p++)r=n[p],d=a(r),g=s(r),v=c(r),h=f(r),void 0!==d&&void 0!==g&&void 0!==v&&void 0!==h&&(u=i.put(r),lr(e,d,g,v,h),ar(e,u),l&&dr(e,u,o(r)));return e.restore()},ho=function(n,t,e,i){var r,o,u,a,s,c,l,h,f,d,g,v,p,m;for(c=t.positionX1,l=t.positionX2,h=t.positionY,o=t.height,f=t.stroke,a=t.lineWidth,e.save(),p=0,m=n.length;m>p;p++)u=n[p],d=c(u),g=l(u),v=h(u),r=o(u),void 0!==d&&void 0!==g&&void 0!==v&&void 0!==r&&(s=i.put(u),cr(e,d,g,v,r),ar(e,s),f&&dr(e,s,a(u)));return e.restore()},xu=function(n,t,e){var i,r,o,u,a,s,c,l,h,f,d,g,v,p;for(u=t.positionX,a=t.positionY1,s=t.positionY2,h=t.width,i=t.fill,c=t.stroke,o=t.lineWidth,e.save(),v=0,p=n.length;p>v;v++)r=n[v],f=u(r),d=a(r),g=s(r),l=h(r),void 0!==f&&void 0!==d&&void 0!==g&&void 0!==l&&(lr(e,f,d,g,l),c&&dr(e,c(r),o(r)),i&&ar(e,i(r)));return e.restore()},ku=function(n,t,e){var i,r,o,u,a,s,c,l,h,f,d,g,v,p;for(s=t.positionX1,c=t.positionX2,l=t.positionY,o=t.height,i=t.fill,h=t.stroke,a=t.lineWidth,e.save(),v=0,p=n.length;p>v;v++)u=n[v],f=s(u),d=c(u),g=l(u),r=o(u),void 0!==f&&void 0!==d&&void 0!==g&&void 0!==r&&(cr(e,f,d,g,r),h&&dr(e,h(u),a(u)),i&&ar(e,i(u)));return e.restore()},Fu=function(n,t,e,i,r,o){var u,a,s,c,l,h,f,d,g,v,p,m,w,b,y;for(a=t.positionX,s=t.positionY1,c=t.positionY2,f=t.width,l=[],b=0,y=n.length;y>b;b++)u=n[b],d=a(u),p=s(u),m=c(u),p>m&&(w=p,p=m,m=w),h=f(u),void 0!==d&&void 0!==p&&void 0!==m&&void 0!==h&&(g=d-h/2,v=d+h/2,e>v||g>r||i>m||p>o||l.push(u));return l},Iu=function(n,t,e,i,r,o){var u,a,s,c,l,h,f,d,g,v,p,m,w,b,y;for(c=t.positionX1,l=t.positionX2,h=t.positionY,a=t.height,f=[],b=0,y=n.length;y>b;b++)s=n[b],d=c(s),g=l(s),p=h(s),d>g&&(v=d,d=g,g=v),u=a(s),void 0!==d&&void 0!==g&&void 0!==p&&void 0!==u&&(m=p-u/2,w=p+u/2,e>g||d>r||i>w||m>o||f.push(s));return f},Ui=function(n,t){var e,i,r,o,u,a,s,c,l,h,f,d,g,v,p,m,w,b;switch(f=Lu(t)){case"String, Number, Number, Number, Number, Number":return g=t[0],r=t[1],o=t[2],u=t[3],a=t[4],s=t[5],c=new ue([g],[r,o,u,a,s]),d=null!=(p=n.width)?p:new X(.8),m=ao(n.strokeColor,n.strokeOpacity,n.lineWidth),l=m[0],h=m[1],i=m[2],new Ht(c,g,r,o,u,a,s,d,l,h,i);case"Number, Number, Number, Number, Number, String":return r=t[0],o=t[1],u=t[2],a=t[3],s=t[4],v=t[5],c=new ue([r,o,u,a,s],[v]),e=null!=(w=n.height)?w:new X(.8),b=ao(n.strokeColor,n.strokeOpacity,n.lineWidth),l=b[0],h=b[1],i=b[2],new Vt(c,r,o,u,a,s,v,e,l,h,i)}},Mr=function(n,t,e,i){var r,o,u,a,s,c,l,h,f,d,g,v;return u=Ar(e,t.q0),a=Ar(e,t.q1),s=Ar(e,t.q2),c=Ar(e,t.q3),l=Ar(e,t.qn),g=Ar(i,t.positionY),r=Fr(n,t.height,i.rect.height/i.domain.length),v=jr(n,t),f=v[0],d=v[1],h=v[2],o=v[3],new Bt(u,a,s,c,l,g,r,h,f,d,o)},to=function(n,t,e){var i,r,o,u,a,s,c,l,h,f,d,g,v,p;for(u=t.positionY,a=t.q0,s=t.q1,c=t.q2,l=t.q3,h=t.qn,i=t.height,f=t.stroke,o=t.lineWidth,e.save(),d=0,v=n.length;v>d;d++)r=n[d],hr(e,a(r),s(r),c(r),l(r),h(r),u(r),i(r),f(r),2+(f?o(r):1));for(e.restore(),e.save(),e.globalCompositeOperation="destination-out",e.strokeStyle="black",g=0,p=n.length;p>g;g++)r=n[g],hr(e,a(r),s(r),c(r),l(r),h(r),u(r),i(r),f(r),o(r));return e.restore()},po=function(n,t,e,i){var r,o,u,a,s,c,l,h,f,d,g,v,p,m,w,b,y;for(c=t.positionY,l=t.q0,h=t.q1,f=t.q2,d=t.q3,g=t.qn,o=t.height,v=t.stroke,a=t.lineWidth,e.save(),b=0,y=n.length;y>b;b++)u=n[b],p=l(u),m=g(u),w=c(u),r=o(u),void 0!==p&&void 0!==m&&void 0!==w&&void 0!==r&&(s=i.put(u),cr(e,p,m,w,r),ar(e,s),dr(e,s,a(u)));return e.restore()},Yu=function(n,t,e){var i,r,o,u,a,s,c,l,h,f,d,g;for(u=t.positionY,a=t.q0,s=t.q1,c=t.q2,l=t.q3,h=t.qn,i=t.height,f=t.stroke,o=t.lineWidth,e.save(),d=0,g=n.length;g>d;d++)r=n[d],hr(e,a(r),s(r),c(r),l(r),h(r),u(r),i(r),f(r),o(r));return e.restore()},zu=function(n,t,e,i,r,o){var u,a,s,c,l,h,f,d,g,v,p,m,w,b,y,_,k,x,C,q;for(l=t.positionY,h=t.q0,f=t.q1,d=t.q2,g=t.q3,v=t.qn,a=t.height,m=t.stroke,c=t.lineWidth,p=[],C=0,q=n.length;q>C;C++)s=n[C],w=h(s),b=v(s),_=l(s),w>b&&(y=w,w=b,b=y),u=a(s),void 0!==w&&void 0!==b&&void 0!==_&&void 0!==u&&(k=_-u/2,x=_+u/2,e>b||w>r||i>x||k>o||p.push(s));return p},Pr=function(n,t,e,i){var r,o,u,a,s,c,l,h,f,d,g,v;return g=Ar(e,t.positionX),o=Ar(i,t.q0),u=Ar(i,t.q1),a=Ar(i,t.q2),s=Ar(i,t.q3),c=Ar(i,t.qn),d=Fr(n,t.width,e.rect.width/e.domain.length),v=jr(n,t),h=v[0],f=v[1],l=v[2],r=v[3],new Dt(g,o,u,a,s,c,d,l,h,f,r)},eo=function(n,t,e){var i,r,o,u,a,s,c,l,h,f,d,g,v,p;for(o=t.positionX,u=t.q0,a=t.q1,s=t.q2,c=t.q3,l=t.qn,f=t.width,h=t.stroke,r=t.lineWidth,e.save(),d=0,v=n.length;v>d;d++)i=n[d],fr(e,o(i),u(i),a(i),s(i),c(i),l(i),f(i),h(i),2+(h?r(i):1));for(e.restore(),e.save(),e.globalCompositeOperation="destination-out",e.strokeStyle="black",g=0,p=n.length;p>g;g++)i=n[g],fr(e,o(i),u(i),a(i),s(i),c(i),l(i),f(i),h(i),r(i));return e.restore()},mo=function(n,t,e,i){var r,o,u,a,s,c,l,h,f,d,g,v,p,m,w,b,y;for(a=t.positionX,s=t.q0,c=t.q1,l=t.q2,h=t.q3,f=t.qn,v=t.width,d=t.stroke,o=t.lineWidth,e.save(),b=0,y=n.length;y>b;b++)r=n[b],p=a(r),m=s(r),w=f(r),g=v(r),void 0!==p&&void 0!==m&&void 0!==w&&void 0!==g&&(u=i.put(r),lr(e,p,m,w,g),ar(e,u),dr(e,u,o(r)));return e.restore()},Xu=function(n,t,e){var i,r,o,u,a,s,c,l,h,f,d,g;for(o=t.positionX,u=t.q0,a=t.q1,s=t.q2,c=t.q3,l=t.qn,f=t.width,h=t.stroke,r=t.lineWidth,e.save(),d=0,g=n.length;g>d;d++)i=n[d],fr(e,o(i),u(i),a(i),s(i),c(i),l(i),f(i),h(i),r(i));return e.restore()},Ru=function(n,t,e,i,r,o){var u,a,s,c,l,h,f,d,g,v,p,m,w,b,y,_,k,x,C,q;for(s=t.positionX,c=t.q0,l=t.q1,h=t.q2,f=t.q3,d=t.qn,m=t.width,v=t.stroke,a=t.lineWidth,g=[],C=0,q=n.length;q>C;C++)u=n[C],w=s(u),_=c(u),k=d(u),_>k&&(x=_,_=k,k=x),p=m(u),void 0!==w&&void 0!==_&&void 0!==k&&void 0!==p&&(b=w-p/2,y=w+p/2,e>y||b>r||i>k||_>o||g.push(u));return g},Vi=function(n,t){var e,i,r,o,u,a,s;return i=t[0],r=t[1],o=new ue([i],[r]),s=ao(n.strokeColor,n.strokeOpacity,n.lineWidth),u=s[0],a=s[1],e=s[2],new Ct(o,i,r,u,a,e)},Yr=function(n,t,e,i){var r,o,u,a,s,c,l;return o=Ar(e,t.positionX),u=Ar(i,t.positionY),l=jr(n,t),s=l[0],c=l[1],a=l[2],r=l[3],new _t(o,u,a,s,c,r)},Zr=function(n,t,e){var i,r,o,u,a,s,c;for(r=t.positionX,o=t.positionY,e.save(),s=0,c=n.length;c>s;s++)i=n[s],u=r(i),a=o(i),e.lineWidth=1.5,e.strokeStyle="black",void 0!==u&&void 0!==a&&(gr(e,u,a,64),e.stroke());return e.restore()},go=function(n,t,e,i){var r,o,u,a,s,c,l;for(o=t.positionX,u=t.positionY,e.save(),c=0,l=n.length;l>c;c++)r=n[c],a=o(r),s=u(r),void 0!==a&&void 0!==s&&(gr(e,a,s,64),e.fillStyle=i.put(r),e.fill());return e.restore()},Ou=function(n,t,e){var i,r,o,u,a,s,c,l,h,f,d,g,v,p,m,w,b,y,_;if(u=t.positionX,a=t.positionY,s=t.stroke,o=t.lineWidth,s instanceof C&&o instanceof C){for(e.strokeStyle=s(),e.lineWidth=o(),e.save(),w=!1,m=0,y=n.length;y>m;m++)r=n[m],h=u(r),g=a(r),void 0!==h&&void 0!==g?w?e.lineTo(h,g):(e.beginPath(),w=!0,e.moveTo(h,g)):(w&&e.stroke(),w=!1);return e.restore()}for(e.save(),e.lineCap="round",w=!1,f=void 0,v=void 0,c=void 0,b=0,_=n.length;_>b;b++)r=n[b],d=u(r),p=a(r),void 0!==d&&void 0!==p?(l=s(r),w&&(l!==c?(i=e.createLinearGradient(f,v,d,p),i.addColorStop(0,c||Oe),i.addColorStop(1,l||Oe),e.strokeStyle=i):e.strokeStyle=l,e.lineWidth=o(r),e.beginPath(),e.moveTo(f,v),e.lineTo(d,p),e.stroke()),w=!0,f=d,v=p,c=l):w=!1;return e.restore()},zi=or([Wt,Array,Di],[kt,Array,Vi],[Ft,Array,Hi],[Rt,Array,Ui]),Ot=new nt(Xr,vo,no,Eu,ju),xt=new nt(Yr,go,Zr,Ou,ju),p=new nt(qr,fo,Qr,xu,Fu),i=new nt(Cr,ho,Kr,ku,Iu),Lt=new nt(Mr,po,to,Yu,zu),Gt=new nt(Pr,mo,eo,Xu,Ru),Ao=or([Z,_.identity],[Function,function(n){return new P(n)}]),fu=or([Number,function(n){return new bt(n)}],[Boolean,function(n){return new o(n)}],[Date,function(n){return new I(n)}],[String,function(n){return new se(n)}]),To=function(){var n;n=1<=arguments.length?na.call(arguments,0):[]},nu=or([Array,function(n){return new l(n)}],[Number,function(n){return n>0?new Kt(0,n):0>n?new Kt(n,0):new R(-1,0,1)}],[String,function(n){return new Jt(n,"black")}],[Number,Number,function(n,t){return t>=n?new Kt(n,t):new Kt(t,n)}],[String,String,function(n,t){return new Jt(n,t)}],[Number,Number,Number,function(n,t,e){var i,r,o,u;return u=_.sortBy([n,t,e],_.identity),i=u[0],r=u[1],o=u[2],new R(i,r,o)}],[String,String,String,function(n,t,e){return new z(n,t,e)}]),ai=function(n){var t,e,i,r,o;for(o=[],i=0,r=n.length;r>i;i++)if(t=n[i],t instanceof U)o.push(t);else{if(ke!==(e=Vu(t)))throw new Error("Cannot create vector reference from ["+t+"] of type ["+e+"].");o.push(new U(t))}return o},Zo=function(){var n,t;return n=1<=arguments.length?na.call(arguments,0):[],new Et(function(){var e,i,r,o;for(r=ai(n),o=[],e=0,i=r.length;i>e;e++)t=r[e],o.push(new A(t));return o}())},Yo=or([se,function(n){return new q(chroma(n.value))}],[String,function(n){return new Ne(new U(n))}],[U,function(n){return new Ne(n)}],[String,x,function(n,t){return new Ne(new U(n),t)}],[U,x,function(n,t){return new Ne(n,t)}],[String,l,function(n,t){return new Ne(new U(n),t)}],[U,l,function(n,t){return new Ne(n,t)}]),Xo=or([bt,function(n){return new S(n.value)}],[String,function(n){return new Ye(new U(n))}],[U,function(n){return new Ye(n)}],[String,Kt,function(n,t){return new Ye(new U(n),t)}],[U,Kt,function(n,t){return new Ye(n,t)}]),su=or([se,function(n){return new N(chroma(n.value))}],[String,function(n){return new Ie(new U(n))}],[U,function(n){return new Ie(n)}],[String,x,function(n,t){return new Ie(new U(n),t)}],[U,x,function(n,t){return new Ie(n,t)}],[String,l,function(n,t){return new Ie(new U(n),t)}],[U,l,function(n,t){return new Ie(n,t)}]),cu=or([bt,function(n){return new Y(n.value)}],[String,function(n){return new Fe(new U(n))}],[U,function(n){return new Fe(n)}],[String,Kt,function(n,t){return new Fe(new U(n),t)}],[U,Kt,function(n,t){return new Fe(n,t)}]),ur=function(n,t){return or([bt,function(t){return new n(t.value)}],[String,function(n){return new t(new U(n))}],[U,function(n){return new t(n)}],[String,Kt,function(n,e){return new t(new U(n),e)}],[U,Kt,function(n,e){return new t(n,e)}])},uu=ur(E,Pe),gu=ur(X,je),jo=ur(W,Xe),Vo=or([bt,function(n){return new O(n.value)}],[String,function(n){return new Ae(new U(n))}],[U,function(n){return new Ae(n)}],[String,Kt,function(n,t){return new Ae(new U(n),t)}],[U,Kt,function(n,t){return new Ae(n,t)}]),ou=or([se,function(n){return new T(n.value)}],[String,function(n){return new Me(new U(n))}],[U,function(n){return new Me(n)}],[String,l,function(n,t){return new Me(new U(n),t)}],[U,l,function(n,t){return new Me(n,t)}]),hu=function(){var n;return n=1<=arguments.length?na.call(arguments,0):[],new Ce(ai(n))},tu=function(n){return null==n&&(n=0),new Pt(n)},Qo=function(){var n,t,e,i,r,o,u,a,s;return i=1<=arguments.length?na.call(arguments,0):[],r=Ur(i,Et),o=Ur(i,Qt),u=Ur(i,ie),n=Ur(i,K),t=Ur(i,Q),a=Ur(i,le),s=Ur(i,he),e=Ur(i,lt),new Wt(r,o,u,n,t,a,s,e)},eu=function(){var n,t,e,i,r,o,u,a,s;return r=1<=arguments.length?na.call(arguments,0):[],o=Ur(r,Et),s=Ur(r,Ve),e=Ur(r,ot),n=Ur(r,K),t=Ur(r,Q),u=Ur(r,le),a=Ur(r,he),i=Ur(r,lt),new Ft(o,s,e,n,t,u,a,i)},Ko=function(){var n,t,e,i,r;return t=1<=arguments.length?na.call(arguments,0):[],e=Ur(t,Et),i=Ur(t,le),r=Ur(t,he),n=Ur(t,lt),new kt(e,i,r,n)},iu=function(){var n,t,e,i,r,o,u;return e=1<=arguments.length?na.call(arguments,0):[],i=Ur(e,Et),u=Ur(e,Ve),n=Ur(e,ot),r=Ur(e,le),o=Ur(e,he),t=Ur(e,lt),new Rt(i,u,n,r,o,t)},Jo=function(n,t){var e;return e=function(n,t){var i,r,o,u;if(_.isArray(n)){for(r=n.length,o=[];r--;)i=n[r],null!==i&&_.isObject(i)?(e(i,t),o.push(t(i))):o.push(void 0);return o}u=[];for(r in n)ea.call(n,r)&&(i=n[r],null!==i&&_.isObject(i)?(e(i,t),u.push(t(i))):u.push(void 0));return u},function(i){var r;return r=n.parse(i),e(r,function(n){var t;"CallExpression"===n.type&&"Identifier"===n.callee.type?_.isFunction(_o[t=n.callee.name])&&(n.callee={type:"MemberExpression",computed:!1,object:{type:"Identifier",name:"plot"},property:{type:"Identifier",name:t}}):"Identifier"===n.type&&_.isFunction(_o[t=n.name])&&(delete n.name,n.type="MemberExpression",n.computed=!1,n.object={type:"Identifier",name:"plot"},n.property={type:"Identifier",name:t})}),t.generate(r)}},Oo={maxCanvasSize:new ee(795,600),visualizationSize:new ee(300,300),axisLabelFont:"10px monospace",axisTickColor:"#4d4d4d",axisTitleFont:"bold 10px monospace",axisLabelColor:"#4d4d4d",gridLineColor:"#eee"},vu=function(n){return Math.round(n)+"px"},Oi=function(n,t){var e,i,r,o;e=document.createElement(n),r=e.style;for(i in t)o=t[i],r[i]=o;return e},wu=function(n){for(var t;t=n.firstChild;)n.removeChild(t)},Zi=function(n){var t,e,i,r,o,u,a,s;u=function(){var t;t=[];for(o in n)a=n[o],i=function(){var n;n=[];for(r in a)s=a[r],n.push(r+":"+s);return n}(),t.push(o+"{"+i.join(";")+";}");return t}(),t=document.createElement("style"),t.type="text/css",t.innerHTML=u.join("\n"),e=_.head(document.getElementsByTagName("head")),e.appendChild(t)},nr=function(n){var t,e,i,r,o,u,a;e=document.createElement("table"),e.appendChild(i=document.createElement("tbody"));for(t in n)a=n[t],i.appendChild(u=document.createElement("tr")),u.appendChild(r=document.createElement("td")),r.appendChild(document.createTextNode(t+":")),u.appendChild(o=document.createElement("th")),o.appendChild(document.createTextNode(a));return e},Ci=function(n){var t,e,i,r,o,u,a;return a=n.width,o=n.height,r=document.createElement("canvas"),e=r.getContext("2d"),i=window.devicePixelRatio||1,t=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1,u=i/t,r.style.position="absolute",i!==t?(r.width=a*u,r.height=o*u,e.scale(u,u),r.style.width=vu(a),r.style.height=vu(o)):(r.width=a,r.height=o),new s(r,e,n,u)},er=function(n){var t,e,i,r,o,u,a,s,c,l,h,f;return f=function(){var t,e;for(e=[],a=t=1;5>=t;a=++t)e.push(Ci(n));return e}(),t=f[0],o=f[1],u=f[2],l=f[3],i=f[4],r=Oi("div",{position:"relative",overflow:"visible",width:vu(n.width),height:vu(n.height)}),s=Oi("div",{position:"absolute",left:vu(0),top:vu(0),width:vu(0),height:vu(0),display:"none",outline:"1px dotted #999",background:"rgba(0, 0, 0, 0.05)"}),h=Oi("div",{position:"absolute",left:vu(0),top:vu(0),display:"none"}),h.className="lightning-tooltip",r.appendChild(t.element),r.appendChild(o.element),r.appendChild(s),r.appendChild(u.element),r.appendChild(h),c=Ri(l),e=Si(i),new Re(n,r,t,o,u,l,i,s,h,c,e)},Jr=function(n){var t,e,i;return e=null!=(i=n.target)?i:n.srcElement,t=e.getBoundingClientRect(),[n.clientX-t.left,n.clientY-t.top]},ti=function(n,t,e,i,r){var o,u,a,s,c,l,h,f,d,g;u=$(document),o=$(n),s=t.style,c=f=l=d=h=g=0,a=!1,o.on("mousemove",function(n){var t;return c=n.offsetX,f=n.offsetY,(void 0===c||void 0===f)&&(t=Jr(n),c=t[0],f=t[1]),a?(s.left=vu(c>l?l:c),s.top=vu(f>d?d:f),s.width=vu(Math.abs(c-l)),s.height=vu(Math.abs(f-d))):e(c,f)}),o.on("mousedown",function(n){var t;return n.preventDefault(),l=n.offsetX,d=n.offsetY,(void 0===l||void 0===d)&&(t=Jr(n),l=t[0],d=t[1]),a=!0,s.display="block",s.left=vu(l),s.top=vu(d),u.on("mouseup",function(n){var t;return n.preventDefault(),h=n.offsetX,g=n.offsetY,(void 0===h||void 0===g)&&(t=Jr(n),h=t[0],g=t[1]),a=!1,s.display="none",s.width=vu(0),s.height=vu(0),u.off("mouseup"),Math.abs(l-h)>5||Math.abs(d-g)>5?i(l,d,h,g):r(l,d)})})},Ni=function(){var n,t,e;return e={},n=function(n,t){var i;return(i=e[n])?i.push(t):e[n]=[t]},t=function(n,t){var i,r,o,u,a;if(n)if(t){if(o=e[n])for(i=u=0,a=o.length;a>u;i=++u)if(r=o[i],r===t){o.splice(i,1);break}}else delete e[n]},or=function(){var n,t,i,r,o,u;if(t=arguments[0],n=2<=arguments.length?na.call(arguments,1):[],r=e[t])for(o=0,u=r.length;u>o;o++)i=r[o],i.apply(null,n)},[n,t,or]},ir=function(n,t,e,i,r,o){var u,a,s,c,l,h,f,d,g,v,p,m,w,b,y,_,k,x,C,q,S,W,O;return O=er(n),u=O.baseCanvas,f=O.highlightCanvas,g=O.hoverCanvas,s=O.clipCanvas,m=O.maskCanvas,v=O.marquee,x=O.tooltip,p=O.mask,a=O.clip,C=n.regions.center,S=t.indices,q=void 0,k=function(t,i){var r,o,u,c,l;if(o=p.test(t,i),void 0!==o)for(r=s.context,r.clearRect(0,0,n.width,n.height),c=0,l=e.length;l>c;c++)if(u=e[c],r.save(),r.translate(C.left,C.top),u.mask([o],u.encoders,r,a),r.restore(),a.test(t,i))return o},c=function(n,t,e){var i;return i=nr(e),wu(x),x.appendChild(i),x.style.display="block",w(n,t)},W=7,w=function(t,e){var i,r,o,u;return u=x.clientWidth,o=x.clientHeight,i=t+W,r=e-W-o,i+u>n.width&&(i=t-W-u),0>r&&(r=e+W),x.style.left=vu(i),x.style.top=vu(r)},l=function(){return x.style.display="none"},d=function(i,r){var u,a,s,h,f,d,v,p,m,b,y,_;if(h=k(i,r),h!==q){if(q=h,s=g.context,s.clearRect(0,0,n.width,n.height),l(),void 0!==h){for(s.save(),s.translate(C.left,C.top),p=0,b=e.length;b>p;p++)f=e[p],f.highlight([h],f.encoders,s);for(s.restore(),o("hover",new ut(t.vectors,h)),d={},m=0,y=e.length;y>m;m++){f=e[m],_=f.encodings;for(u in _)a=_[u],a&&(v=a.vector)&&(d[v.label]=v.format(h))}c(i,r,d)}}else w(i,r)},h=function(t){var i,r,o,a;if(i=f.context,i.clearRect(0,0,n.width,n.height),t.length){for(u.element.style.opacity=.5,i.save(),i.translate(C.left,C.top),o=0,a=e.length;a>o;o++)r=e[o],r.highlight(t,r.encoders,i),r.render(t,r.encoders,i);i.restore()}else u.element.style.opacity=1},y=function(n,e){var i;i=k(n,e),void 0!==i?(h([i]),o("select",new Ut(t.vectors,[i]))):(h([]),o("deselect",new j(t.vectors)))},_=function(n,i,r,u){var a,s,c,l,f,d,g,v;for(l=-C.left+(n>r?r:n),c=-C.left+(n>r?n:r),d=-C.top+(i>u?u:i),f=-C.top+(i>u?i:u),g=0,v=e.length;v>g;g++)a=e[g],s=a.select(S,a.encoders,l,d,c,f),h(s),s.length?o("select",new Ut(t.vectors,s)):o("deselect",new j(t.vectors))},b=function(){var t,o,a,s,c;for(t=u.context,a=m.context,qu(t,i,C),Su(t,r,C),t.save(),t.translate(C.left,C.top),a.save(),a.translate(C.left,C.top),s=0,c=e.length;c>s;s++)o=e[s],o.render(S,o.encoders,t),o.mask(S,o.encoders,a,p);a.restore(),t.restore(),yu(t,i,n.regions.bottom),_u(t,r,n.regions.left)},ti(g.element,v,d,_,y),new Be(O,t,k,h,d,y,_,b)},bu=function(n,t,e,i,r){var o,u,a,s,l,h,f,d,g,v,p,m,w,b,y,_,k,x;if(n.font=Oo.axisLabelFont,n.fillStyle=Oo.axisLabelColor,n.strokeStyle=Oo.axisTickColor,n.textBaseline="middle",m=$u+4,l=e-m,n.save(),ri(n,m,0,l,i),n.textAlign="right",p=e-5,a=e-6,t instanceof c){for(k=t.guide(),w=0,y=k.length;y>w;w++)o=k[w],u=o.value,d=t.scale(o),v=-.5+Math.round(d),sr(n,p,v,e,v),n.fillText(u,a,d,l-6);sr(n,e-.5,0,e-.5,i)}else{if(!(t instanceof ht))throw new Error("Invalid axis type.");for(f=6,h=i-6,x=t.guide(),b=0,_=x.length;_>b;b++)g=x[b],u=g.label,d=t.scale(g.value),v=Math.max(.5,-.5+Math.round(d)),sr(n,p,v,e,v),s=f>d?f:d>h?h:d,n.fillText(u,a,s,l-6);sr(n,e-.5,0,e-.5,i)}return n.restore(),n.font=Oo.axisTitleFont,n.textAlign="center",n.translate(m/2,i/2),n.rotate(r*it),n.fillText(t.label,0,0,i),n.restore()},Cu=function(n,t,e,i){var r,o,u,a,s;if(n.strokeStyle=Oo.gridLineColor,t instanceof c)sr(n,0,.5,e,.5),sr(n,0,i-.5,e,i-.5);else if(t instanceof ht)for(s=t.guide(),u=0,a=s.length;a>u;u++)r=s[u],o=Math.max(.5,-.5+Math.round(t.scale(r.value))),sr(n,0,o,e,o)},qu=function(n,t,e){return n.save(),n.translate(e.left,e.top+e.height),n.rotate(-it),Cu(n,t,e.height,e.width),n.restore()},Su=function(n,t,e){return n.save(),n.translate(e.left,e.top),Cu(n,t,e.width,e.height),n.restore()},yu=function(n,t,e){return n.save(),n.translate(e.left,e.top+e.height),n.rotate(-it),bu(n,t,e.height,e.width,1),n.restore()},_u=function(n,t,e){return n.save(),n.translate(e.left,e.top),bu(n,t,e.width,e.height,-1),n.restore()},hi=function(n,t){var e,i,r,o,u,a,s,c,l;return 0<=(a=n.indexOf(" "))?(c=n.substr(0,a),e=n.substr(a)):c=n,l=c.split(/\.+/g),s=l[0],r=2<=l.length?na.call(l,1):[],0===s.indexOf("#")&&(u=s.substr(1),s="div"),""===s&&(s="div"),i="<"+s,u&&(i+=" id='"+u+"'"),r.length&&(i+=" class='"+r.join(" ")+"'"),e&&(i+=e),i+=">",o="</"+s+">","="===t?function(n){return i+(null!==n&&void 0!==n?n:"")+o}:"+"===t?function(n,t){var e;return e=i.replace("{0}",t),e+n+o}:function(n){return i+n.join("")+o}},Zu={},Ii=function(){var n,t,e,i,r,o,u;for(e=1<=arguments.length?na.call(arguments,0):[],u=[],r=0,o=e.length;o>r;r++)t=e[r],(n=Zu[t])?u.push(n):(i=t.charAt(0),u.push("="===i||"+"===i?Zu[t]=hi(t.substr(1),i):Zu[t]=hi(t)));return u},Wu=function(n){var t;return t=document.createElement("div"),t.innerHTML=n,t.childNodes[0]},Gr=function(n,t){var e,i,r,o,u,a,s;for(i={},r=[],a=0,s=t.length;s>a;a++)o=t[a],u=(e=n.at(o)).key,i[u]||(i[u]=!0,r.push(e));return r},Ki=function(n,t){var e,i,r,o,u,a;for(i=null,e=null,a=null,o=0,u=n.length;u>o;o++)if(r=n[o],null===i)switch(i=r.type){case ke:a=r,e=Gr(r,t);break;case be:e=r.domain;break;default:throw new Error("ni")}else{if(i!==r.type)throw new Error("Incompatible axis vector ["+r.label+"]. Expect type ["+i+"], got ["+r.type+"]");switch(i){case ke:if(a!==r)throw new Error("Incompatible categorical vector ["+r.label+"]. Expected ["+a.label+"].");break;case be:e=li(e,r.domain);break;default:throw new Error("ni")}}return new oe(i,n,e)},xi=function(n){var t,e;return t=function(){var t,i,r;for(r=[],t=0,i=n.length;i>t;t++)e=n[t],r.push(e.label);return r}(),_.unique(t).join(", ")},fi=function(n,t){var e,i,r,o,a,s,l,h,f,d,g,v,p;if(l=new It(0,0,400,400),e=ki(n,"",t,new Kt(0,l.width),l),s=$u+4+6+10,e instanceof c){for(a=0,i=e.guide(),f=0,g=i.length;g>f;f++)r=i[f],a<(o=(""+r.value).length)&&(a=o);return new u(Math.ceil(a*$u+s),Math.ceil(i.length*($u+8)))}if(e instanceof ht){for(a=0,i=e.guide(),p=e.guide(),d=0,v=p.length;v>d;d++)h=p[d],a<(o=h.label.length)&&(a=o);return new u(Math.ceil(a*$u+s),Oo.visualizationSize.height)}throw new Error("Invalid axis type.")},ki=function(n,t,e,i,r){var o,u,a,s,l;switch(n){case ke:return u=Li(e,i),o=function(){return e},new c(n,t,u,e,i,r,o);case be:return l=Bi(e,i),u=l[0],a=l[1],s=l[2],o=function(n){var t,e,i,r,o,u;for(null==n&&(n=10),t=a(n),o=s(n),u=[],i=0,r=o.length;r>i;i++)e=o[i],u.push(new We(e,t(e)));return u},new ht(n,t,u,e,i,r,o);default:throw new Error("Unhandled axis type ["+n+"].")}},Mu=function(n,t){var e,i;return i=Gi(t),e=mu(n,i),Ur(t,Ce)?Au(e,t):Ur(t,Pt)?Nu(e,t):Tu(e,t)},Nu=function(n,t){var e,i,r,o,u,a,s,c,l,h,f,d,g,v,p,m;return u=Ur(t,Pt),r=u.index,m=Ii("=table.lightning-record","tbody","tr","=th","=td"),s=m[0],c=m[1],f=m[2],h=m[3],l=m[4],d=function(){var t,e;t=n.schema,e=[];for(o in t)p=t[o],v=p.format(r),i=function(){switch(p.type){case ke:return void 0!==v?_.escape(v):"-";case be:return void 0!==v?_.escape(v):"-";case ye:return void 0!==v?v:"-";default:throw new Error("Cannot render table cell of type "+p.type)}}(),e.push(f([h(_.escape(p.label)),l(i)]));return e}(),e=Wu(s(c(d))),a=_.noop,g=_.noop,new qt(e,a,g)},Au=function(n,t){var e,i,r,o,u,a,s,c,l,h,f,d,g,v,p,m,w,b,y,k,x,C;return a=Ur(t,Ce),k=function(){var t,e,r,o;if(a.fields.length){for(r=a.fields,o=[],t=0,e=r.length;e>t;t++)i=r[t],o.push(n.evaluate(i));return o}return n.vectors}(),x=_.flatten(k),C=Ii("table.lightning-table","=thead","tbody","tr","=th","=th.lightning-number","=td","=td.lightning-number"),u=C[0],d=C[1],s=C[2],p=C[3],f=C[4],g=C[5],c=C[6],l=C[7],v=function(){var n,t,e;
for(e=[],n=0,t=x.length;t>n;n++)switch(y=x[n],y.type){case be:e.push(g(_.escape(y.label)));break;default:e.push(f(_.escape(y.label)))}return e}(),m=function(){var t,e,i,o;for(i=n.indices,o=[],t=0,e=i.length;e>t;t++)r=i[t],h=function(){var n,t,e;for(e=[],n=0,t=x.length;t>n;n++)switch(y=x[n],b=y.format(r),y.type){case ke:e.push(c(void 0!==b?_.escape(b):"-"));break;case be:e.push(l(void 0!==b?_.escape(b):"-"));break;case ye:e.push(c(void 0!==b?b:"-"));break;default:throw new Error("Cannot render table cell of type "+y.type)}return e}(),o.push(p(h));return o}(),e=Wu(u([d(p(v)),s(m)])),o=_.noop,w=_.noop,new qt(e,o,w)},di=function(n,t){return n.type===be&&t.type===ke?io(n.domain):n.domain},Tu=function(n,t){var e,i,r,o,s,c,l,h,f,d,g,v,p,m,w,b,y,k,x,C,q,S,W,O;return v=_.map(Dr(t,pt),function(t){var e,i;return i=function(){var i,r,o,u;for(o=t.position.coordinates,u=[],i=0,r=o.length;r>i;i++)e=o[i],u.push(n.evaluate(e.field));return u}(),zi(t,_.flatten(i))}),y=_.map(v,function(n){return n.space}),C=$r(y,function(n){return n.x}),q=$r(y,function(n){return n.y}),w=Ki(C,n.indices),b=Ki(q,n.indices),f=di(w,b),d=di(b,w),e=fi(w.type,f),i=fi(b.type,d),l=null!=(W=Ur(t,u))?W:new u(Math.min(Oo.maxCanvasSize.width,i.width+e.height),Math.min(Oo.maxCanvasSize.height,e.width+i.height)),h=new a(l.width,l.height,new gt(Math.min(.3*Oo.maxCanvasSize.width,i.width),0,0,Math.min(.3*Oo.maxCanvasSize.height,e.width))),r=h.regions.bottom,o=h.regions.left,p=new Kt(0,r.width),m=b.type===be?new Kt(o.height,0):new Kt(0,o.height),s=ki(w.type,xi(C),f,p,r),c=ki(b.type,xi(q),d,m,o),g=_.map(v,function(t){var e,i,r,o,u;r=t.geometry,i=r.encode(n,t,s,c),e={};for(o in i)u=i[o],(null!=u?u.encode:void 0)&&(e[o]=u.encode);return new at(i,e,r.mask,r.highlight,r.render,r.select)}),O=Ni(),k=O[0],x=O[1],or=O[2],S=ir(h,n,g,s,c,or),S.render(),new qt(S.viewport.container,k,x)},Du=or([P,Array,Function,function(n,t,e){return n.read(function(n,i){return n?e(n):Du(i,t,e)})}],[Z,Array,Function,function(n,t,e){var i;try{return e(null,Mu(n,t))}catch(r){return i=r,e(i)}}]),lo=function(){return Zi({".lightning-tooltip":{background:"#2c2c2c",color:"#fff","font-size":"12px"},".lightning-tooltip th, .lightning-tooltip td":{padding:"0px 4px","vertical-align":"middle"},".lightning-tooltip th":{"text-align":"left"},".lightning-table th, .lightning-table td":{padding:"0px 8px","vertical-align":"middle"},".lightning-table tbody > tr:nth-child(odd)":{"background-color":"#f3f3f3"},".lightning-table .lightning-number":{"text-align":"right"},".lightning-record th, .lightning-record td":{padding:"0px 8px","vertical-align":"middle"},".lightning-record th":{"text-align":"right"},".lightning-record tbody > tr:nth-child(odd)":{"background-color":"#f3f3f3"}})},Ku=null,$u=18,co=function(){var n,t;return Ku=n=Ci(new u(100,100)),t=n.context,t.font=Oo.axisLabelFont,$u=t.measureText("M").width},Ju=!1,so=function(){return Ju?void 0:(lo(),co(),Ju=!0)},_o=function(){var n,t;return t=1<=arguments.length?na.call(arguments,0):[],(n=Ur(t,P,Z))?(so(),function(e){return Du(n,_.without(t,n),e)}):function(){var n;return n=1<=arguments.length?na.call(arguments,0):[],_o.apply(null,t.concat(n))}},_o.VERSION="999.999.999",_o.from=Ao,_o.value=fu,_o.domain=To,_o.range=nu,_o.position=Zo,_o.fillColor=Yo,_o.fillOpacity=Xo,_o.strokeColor=su,_o.strokeOpacity=cu,_o.size=uu,_o.width=gu,_o.height=jo,_o.lineWidth=Vo,_o.shape=ou,_o.factor=No,_o.stack=au,_o.groupBy=Po,_o.select=ru,_o.where=du,_o.limit=Lo,_o.having=Fo,_o.eq=Eo,_o.ne=Uo,_o.lt=Do,_o.gt=Io,_o.le=Ro,_o.ge=Mo,_o.like=Bo,_o.avg=So,_o.count=Wo,_o.max=Go,_o.min=Ho,_o.sum=lu,_o.parse=Jo,_o.point=Qo,_o.rect=eu,_o.path=Ko,_o.schema=iu,_o.table=hu,_o.record=tu,_o.createFrame=Pi,_o.createVector=tr,_o.createList=ji,_o.createFactor=Xi,null!=("undefined"!=typeof module&&null!==module?module.exports:void 0)?module.exports=_o:window.plot=_o}).call(this);