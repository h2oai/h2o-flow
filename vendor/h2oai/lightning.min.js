(function(){var n,t,e,r,i,o,u,a,s,c,l,h,f,d,g,v,p,m,w,b,y,k,x,C,q,S,W,O,T,E,N,Y,X,A,M,P,I,F,j,z,R,B,L,V,D,G,H,U,J,K,Q,Z,nt,tt,et,rt,it,ot,ut,at,st,ct,lt,ht,ft,dt,gt,vt,pt,mt,wt,bt,yt,_t,kt,xt,Ct,qt,St,Wt,Ot,Tt,Et,Nt,Yt,Xt,At,Mt,Pt,It,Ft,jt,zt,Rt,Bt,Lt,Vt,Dt,Gt,Ht,Ut,$t,Jt,Kt,Qt,Zt,ne,te,ee,re,ie,oe,ue,ae,se,ce,le,he,fe,de,ge,ve,pe,me,we,be,ye,_e,ke,xe,Ce,qe,Se,We,Oe,Te,Ee,Ne,Ye,Xe,Ae,Me,Pe,Ie,Fe,je,ze,Re,Be,Le,Ve,De,Ge,He,Ue,$e,Je,Ke,Qe,Ze,nr,tr,er,rr,ir,or,ur,ar,sr,cr,lr,hr,fr,dr,gr,vr,pr,mr,wr,br,yr,_r,kr,xr,Cr,qr,Sr,Wr,Or,Tr,Er,Nr,Yr,Xr,Ar,Mr,Pr,Ir,Fr,jr,zr,Rr,Br,Lr,Vr,Dr,Gr,Hr,Ur,$r,Jr,Kr,Qr,Zr,ni,ti,ei,ri,ii,oi,ui,ai,si,ci,li,hi,fi,di,gi,vi,pi,mi,wi,bi,yi,_i,ki,xi,Ci,qi,Si,Wi,Oi,Ti,Ei,Ni,Yi,Xi,Ai,Mi,Pi,Ii,Fi,ji,zi,Ri,Bi,Li,Vi,Di,Gi,Hi,Ui,$i,Ji,Ki,Qi,Zi,no,to,eo,ro,io,oo,uo,ao,so,co,lo,ho,fo,go,vo,po,mo,wo,bo,yo,_o,ko,xo,Co,qo,So,Wo,Oo,To,Eo,No,Yo,Xo,Ao,Mo,Po,Io,Fo,jo,zo,Ro,Bo,Lo,Vo,Do,Go,Ho,Uo,$o,Jo,Ko,Qo,Zo,nu,tu,eu,ru,iu,ou,uu,au,su,cu,lu,hu,fu,du,gu,vu,pu,mu,wu,bu,yu,_u,ku,xu,Cu,qu,Su,Wu,Ou,Tu,Eu,Nu,Yu,Xu,Au,Mu,Pu,Iu,Fu,ju,zu,Ru,Bu,Lu,Vu,Du,Gu,Hu,Uu,$u,Ju=[].slice,Ku=function(n,t){function e(){this.constructor=n}for(var r in t)Qu.call(t,r)&&(n[r]=t[r]);return e.prototype=t.prototype,n.prototype=new e,n.__super__=t.prototype,n},Qu={}.hasOwnProperty;Lu=Math.PI,Vu=2*Lu,rt=Lu/2,Bu=1e-6,V=Bu*Bu,Xt=Lu/180,F=180/Lu,Ce=Math.tan(30*Xt),ue=Math.sqrt(3),y=16581375,We="transparent",ke="undefined",me="null",de="Boolean",_e="String",we="Number",pe="Function",be="Object",fe="Array",he="Arguments",ge="Date",ye="RegExp",ve="Error",zu=function(n){var t;if(t=Object.prototype.toString.call(n),null===n)return me;if(void 0===n)return ke;if(n===!0||n===!1||"[object Boolean]"===t)return de;switch(t){case"[object String]":return _e;case"[object Number]":return we;case"[object Function]":return pe;case"[object Object]":return be;case"[object Array]":return fe;case"[object Arguments]":return he;case"[object Date]":return ge;case"[object RegExp]":return ye;case"[object Error]":return ve;default:return t}},mt=function(){function n(n,t){this.match=n,this.func=t}return n}(),ri=function(){var n,t;return n=function(t){var e,r,i;switch(r=zu(t)){case ke:return function(n){return void 0===n};case me:return function(n){return null===n};case de:return function(n){return t===Boolean||n===t};case _e:return function(n){return t===String||n===t};case we:return function(n){return t===Number||n===t||_.isNaN(n)&&_.isNaN(t)};case ye:return function(){return t===RegExp};case Error:return function(){return t===Error};case ge:return function(n){return t===Date||n===t};case fe:return 1===t.length&&pe===(i=zu(t[0]))?(e=n(t[0]),function(n){var t,r,i;if(fe!==zu(n))return!1;for(r=0,i=n.length;i>r;r++)if(t=n[r],!e(t))return!1;return!0}):function(n){return t===Array||Ke(t,n)};case pe:return function(n){var e;return n instanceof t?!0:n&&n.constructor===t?!0:(e=zu(n),t===Boolean&&e===de||t===String&&e===_e||t===Number&&e===we)};case be:return function(n){var e,r;for(e in t)if(r=t[e],n[e]!==r)return!1;return!0};default:return function(){return!1}}},t=function(t){var e;return e=_.map(t,n),function(n){var t,r,i,o;if(0===n.length)return!1;if(n.length!==e.length)return!1;for(r=i=0,o=e.length;o>i;r=++i)if(t=e[r],!t(n[r]))return!1;return!0}},function(){var n,e;return n=1<=arguments.length?Ju.call(arguments,0):[],e=_.map(n,function(n){var e,r,i;return r=2<=n.length?Ju.call(n,0,i=n.length-1):(i=0,[]),e=n[i++],new mt(t(r),e)}),function(){var n,t,r,i;for(n=1<=arguments.length?Ju.call(arguments,0):[],r=0,i=e.length;i>r;r++)if(t=e[r],t.match(n))return t.func.apply(null,n);throw new Error("Pattern match failure for args [ "+_.map(n,function(n){return""+n+":"+zu(n)}).join(", ")+" ]")}}}(),g=function(){function n(n,t){this.put=n,this.test=t}return n}(),pt=function(){function n(n,t){this.put=n,this.test=t}return n}(),te=function(){function n(n,t){this.width=n,this.height=t}return n}(),Pt=function(){function n(n,t,e,r){this.left=n,this.top=t,this.width=e,this.height=r}return n}(),je=function(){function n(n,t,e,r,i,o,u){this.name=n,this.label=t,this.type=e,this.at=r,this.count=i,this.domain=o,this.format=u}return n}(),G=function(n){function t(n,e,r,i,o,u,a,s){this.valueAt=o,t.__super__.constructor.call(this,n,e,r,i,u,a,s)}return Ku(t,n),t}(je),ht=function(n){function t(n,e,r,i,o,u){t.__super__.constructor.call(this,n,e,be,r,i,o,u)}return Ku(t,n),t}(je),tt=function(){function n(){}return n}(),Z=function(){function n(n,t,e,r,i,o,u,a,s){this.label=n,this.vectors=t,this.schema=e,this.indices=r,this.cube=i,this.at=o,this.evaluate=u,this.attach=a,this.metadata=s}return n}(),Oe=function(){function n(n){this.value=n}return n}(),wt=function(n){function t(n){t.__super__.constructor.call(this,n)}return Ku(t,n),t}(Oe),ae=function(n){function t(n){t.__super__.constructor.call(this,n)}return Ku(t,n),t}(Oe),I=function(n){function t(n){t.__super__.constructor.call(this,n)}return Ku(t,n),t}(Oe),o=function(n){function t(n){t.__super__.constructor.call(this,n)}return Ku(t,n),t}(Oe),U=function(){function n(n){this.name=n}return n}(),ft=function(n){function t(n){this.evaluate=n}return Ku(t,n),t}(U),Ft=function(n){function t(n){this.evaluate=n}return Ku(t,n),t}(U),J=function(){function n(n,t){this.color=n,this.opacity=t}return n}(),se=function(){function n(n,t,e){this.color=n,this.opacity=t,this.size=e}return n}(),xe=function(){function n(n){this.fields=n}return n}(),Mt=function(){function n(n){this.index=n}return n}(),vt=function(){function n(){}return n}(),St=function(n){function t(n,t,e,r,i,o,u,a){this.position=n,this.shape=t,this.size=e,this.fillColor=r,this.fillOpacity=i,this.strokeColor=o,this.strokeOpacity=u,this.lineWidth=a}return Ku(t,n),t}(vt),_t=function(n){function t(n,t,e,r){this.position=n,this.strokeColor=t,this.strokeOpacity=e,this.lineWidth=r}return Ku(t,n),t}(vt),zt=function(n){function t(n,t,e,r){this.position=n,this.strokeColor=t,this.strokeOpacity=e,this.lineWidth=r}return Ku(t,n),t}(vt),It=function(n){function t(n,t,e,r,i,o,u,a){this.position=n,this.width=t,this.height=e,this.fillColor=r,this.fillOpacity=i,this.strokeColor=o,this.strokeOpacity=u,this.lineWidth=a}return Ku(t,n),t}(vt),gt=function(){function n(){}return n}(),Ot=function(n){function t(n,t,e,r,i,o,u,a,s,c){this.space=n,this.positionX=t,this.positionY=e,this.shape=r,this.size=i,this.fillColor=o,this.fillOpacity=u,this.strokeColor=a,this.strokeOpacity=s,this.lineWidth=c,this.geometry=Wt}return Ku(t,n),t}(gt),Lt=function(n){function t(n,t,e,r,i,o,u,a,s,c,l){this.space=n,this.q0=t,this.q1=e,this.q2=r,this.q3=i,this.qn=o,this.positionY=u,this.height=a,this.strokeColor=s,this.strokeOpacity=c,this.lineWidth=l,this.geometry=Bt}return Ku(t,n),t}(gt),Gt=function(n){function t(n,t,e,r,i,o,u,a,s,c,l){this.space=n,this.positionX=t,this.q0=e,this.q1=r,this.q2=i,this.q3=o,this.qn=u,this.width=a,this.strokeColor=s,this.strokeOpacity=c,this.lineWidth=l,this.geometry=Dt}return Ku(t,n),t}(gt),m=function(n){function t(n,t,e,r,i,o,u,a,s,c){this.space=n,this.positionX=t,this.positionY1=e,this.positionY2=r,this.width=i,this.fillColor=o,this.fillOpacity=u,this.strokeColor=a,this.strokeOpacity=s,this.lineWidth=c,this.geometry=p}return Ku(t,n),t}(gt),i=function(n){function t(n,t,e,i,o,u,a,s,c,l){this.space=n,this.positionX1=t,this.positionX2=e,this.positionY=i,this.height=o,this.fillColor=u,this.fillOpacity=a,this.strokeColor=s,this.strokeOpacity=c,this.lineWidth=l,this.geometry=r}return Ku(t,n),t}(gt),xt=function(n){function t(n,t,e,r,i,o){this.space=n,this.positionX=t,this.positionY=e,this.strokeColor=r,this.strokeOpacity=i,this.lineWidth=o,this.geometry=kt}return Ku(t,n),t}(gt),qe=function(n){function t(n,t,e,r,i,o,u){this.space=n,this.positionX=t,this.positionY=e,this.text=r,this.size=i,this.fillColor=o,this.fillOpacity=u,this.geometry=TextGeometry}return Ku(t,n),t}(gt),L=function(){function n(){}return n}(),qt=function(n){function t(n,t,e,r,i,o,u,a,s,c,l){this.positionX=n,this.positionY=t,this.shape=e,this.size=r,this.fill=i,this.fillColor=o,this.fillOpacity=u,this.stroke=a,this.strokeColor=s,this.strokeOpacity=c,this.lineWidth=l}return Ku(t,n),t}(L),Rt=function(n){function t(n,t,e,r,i,o,u,a,s,c,l){this.q0=n,this.q1=t,this.q2=e,this.q3=r,this.qn=i,this.positionY=o,this.height=u,this.stroke=a,this.strokeColor=s,this.strokeOpacity=c,this.lineWidth=l}return Ku(t,n),t}(L),Vt=function(n){function t(n,t,e,r,i,o,u,a,s,c,l){this.positionX=n,this.q0=t,this.q1=e,this.q2=r,this.q3=i,this.qn=o,this.width=u,this.stroke=a,this.strokeColor=s,this.strokeOpacity=c,this.lineWidth=l}return Ku(t,n),t}(L),v=function(n){function t(n,t,e,r,i,o,u,a,s,c,l){this.positionX=n,this.positionY1=t,this.positionY2=e,this.width=r,this.fill=i,this.fillColor=o,this.fillOpacity=u,this.stroke=a,this.strokeColor=s,this.strokeOpacity=c,this.lineWidth=l}return Ku(t,n),t}(L),e=function(n){function t(n,t,e,r,i,o,u,a,s,c,l){this.positionX1=n,this.positionX2=t,this.positionY=e,this.height=r,this.fill=i,this.fillColor=o,this.fillOpacity=u,this.stroke=a,this.strokeColor=s,this.strokeOpacity=c,this.lineWidth=l}return Ku(t,n),t}(L),yt=function(n){function t(n,t,e,r,i,o){this.positionX=n,this.positionY=t,this.stroke=e,this.strokeColor=r,this.strokeOpacity=i,this.lineWidth=o}return Ku(t,n),t}(L),oe=function(){function n(n,t){this.x=n,this.y=t}return n}(),ie=function(){function n(n,t,e){this.type=n,this.vectors=t,this.domain=e}return n}(),t=function(){function n(){}return n}(),c=function(n){function t(n,t,e,r,i,o,u){this.type=n,this.label=t,this.scale=e,this.domain=r,this.range=i,this.rect=o,this.guide=u}return Ku(t,n),t}(t),lt=function(n){function t(n,t,e,r,i,o,u){this.type=n,this.label=t,this.scale=e,this.domain=r,this.range=i,this.rect=o,this.guide=u}return Ku(t,n),t}(t),Se=function(){function n(n,t){this.value=n,this.label=t}return n}(),B=function(){function n(n,t){this.label=n,this.encode=t}return n}(),C=function(n){function t(n){this.value=n,t.__super__.constructor.call(this,"Constant",Je(this.value))}return Ku(t,n),t}(B),Te=function(n){function t(n,e,r){this.vector=r,t.__super__.constructor.call(this,n,e)}return Ku(t,n),t}(B),Et=function(n){function t(n,e,r,i,o,u){this.domain=i,this.range=o,this.guide=u,t.__super__.constructor.call(this,n,e,r)}return Ku(t,n),t}(Te),b=function(n){function t(n,e,r,i,o,u){this.domain=i,this.range=o,this.guide=u,t.__super__.constructor.call(this,n,e,r)}return Ku(t,n),t}(Te),bt=function(n){function t(n,e,r,i,o,u){this.domain=i,this.range=o,this.guide=u,t.__super__.constructor.call(this,n,e,r)}return Ku(t,n),t}(Te),re=function(n){function t(n,e,r,i,o,u){this.domain=i,this.range=o,this.guide=u,t.__super__.constructor.call(this,n,e,r)}return Ku(t,n),t}(Te),Qt=function(n){function t(n,e,r,i,o,u){this.domain=i,this.range=o,this.guide=u,t.__super__.constructor.call(this,n,e,r)}return Ku(t,n),t}(Te),d=function(){function n(){}return n}(),w=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ku(t,n),t}(d),A=function(n){function t(n){this.field=n}return Ku(t,n),t}(d),Tt=function(n){function t(n){this.coordinates=n}return Ku(t,n),t}(d),K=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ku(t,n),t}(d),Q=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ku(t,n),t}(d),ce=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ku(t,n),t}(d),le=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ku(t,n),t}(d),ee=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ku(t,n),t}(d),Le=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ku(t,n),t}(d),ot=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ku(t,n),t}(d),ct=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ku(t,n),t}(d),Kt=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ku(t,n),t}(d),q=function(n){function t(n){this.value=n}return Ku(t,n),t}(K),Ee=function(n){function t(n,t){this.field=n,this.range=t}return Ku(t,n),t}(K),S=function(n){function t(n){this.value=n}return Ku(t,n),t}(Q),Ne=function(n){function t(n,t){this.field=n,this.range=t}return Ku(t,n),t}(Q),N=function(n){function t(n){this.value=n}return Ku(t,n),t}(ce),Pe=function(n){function t(n,t){this.field=n,this.range=t}return Ku(t,n),t}(ce),Y=function(n){function t(n){this.value=n}return Ku(t,n),t}(le),Ie=function(n){function t(n,t){this.field=n,this.range=t}return Ku(t,n),t}(le),E=function(n){function t(n){this.value=n}return Ku(t,n),t}(ee),Me=function(n){function t(n,t){this.field=n,this.range=t}return Ku(t,n),t}(ee),X=function(n){function t(n){this.value=n}return Ku(t,n),t}(Le),Fe=function(n){function t(n,t){this.field=n,this.range=t}return Ku(t,n),t}(Le),W=function(n){function t(n){this.value=n}return Ku(t,n),t}(ot),Ye=function(n){function t(n,t){this.field=n,this.range=t}return Ku(t,n),t}(ot),O=function(n){function t(n){this.value=n}return Ku(t,n),t}(ct),Xe=function(n){function t(n,t){this.field=n,this.range=t}return Ku(t,n),t}(ct),T=function(n){function t(n){this.value=n}return Ku(t,n),t}(Kt),Ae=function(n){function t(n,t){this.field=n,this.range=t}return Ku(t,n),t}(Kt),D=function(){function n(n,t){this.min=n,this.max=t}return n}(),At=function(){function n(){}return n}(),l=function(n){function t(n){this.values=n}return Ku(t,n),t}(At),Nt=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ku(t,n),t}(At),Jt=function(n){function t(n,t){this.min=n,this.max=t}return Ku(t,n),t}(Nt),R=function(n){function t(n,t,e){this.min=n,this.mid=t,this.max=e}return Ku(t,n),t}(Nt),x=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ku(t,n),t}(At),$t=function(n){function t(n,t){this.min=n,this.max=t}return Ku(t,n),t}(x),z=function(n){function t(n,t,e){this.min=n,this.mid=t,this.max=e}return Ku(t,n),t}(x),nt=function(){function n(n,t,e,r,i){this.encode=n,this.mask=t,this.highlight=e,this.render=r,this.select=i}return n}(),P=function(){function n(n){this.read=n}return n}(),s=function(){function n(n,t,e,r){this.element=n,this.context=t,this.bounds=e,this.ratio=r}return n}(),ze=function(){function n(n,t,e,r,i,o,u,a,s,c,l){this.box=n,this.container=t,this.baseCanvas=e,this.highlightCanvas=r,this.hoverCanvas=i,this.maskCanvas=o,this.clipCanvas=u,this.marquee=a,this.tooltip=s,this.mask=c,this.clip=l}return n}(),at=function(){function n(n,t,e,r,i,o){this.encodings=n,this.encoders=t,this.mask=e,this.highlight=r,this.render=i,this.select=o}return n}(),Re=function(){function n(n,t,e,r,i,o,u,a){this.viewport=n,this.frame=t,this.test=e,this.highlight=r,this.hover=i,this.selectAt=o,this.selectWithin=u,this.render=a}return n}(),Ct=function(){function n(n,t,e){this.element=n,this.subscribe=t,this.unsubscribe=e}return n}(),u=function(){function n(n,t){this.width=n,this.height=t}return n}(),jt=function(){function n(n,t,e,r,i){this.center=n,this.left=t,this.top=e,this.right=r,this.bottom=i}return n}(),dt=function(){function n(n,t,e,r){this.left=n,this.top=t,this.right=e,this.bottom=r}return n}(),a=function(){function n(n,t,e){var r;this.width=n,this.height=t,this.margin=e,this.regions=new jt(r=new Pt(e.left,e.top,n-e.left-e.right,t-e.top-e.bottom),new Pt(0,e.top,e.left,r.height),new Pt(e.left+r.width,e.top,e.right,r.height),new Pt(e.left,0,r.width,e.top),new Pt(e.left,e.top+r.height,r.width,e.bottom))}return n}(),Yt=function(){function n(n,t,e,r){this.select=n,this.where=t,this.group=e,this.having=r}return n}(),h=function(){function n(n,t){this.key=n,this.value=t}return n}(),n=new h(0,"All"),M=function(){function n(n,t,e,r){this.frame=n,this.hierarchy=t,this.cells=e,this.dimension=r}return n}(),st=function(){function n(n,t,e){this.category=n,this.indices=t,this.children=e}return n}(),f=function(){function n(n,t){this.levels=n,this.indices=t}return n}(),H=function(){function n(n,t,e,r,i){this.at=n,this.valueAt=t,this.count=e,this.domain=r,this.format=i}return n}(),et=function(){function n(n){this.fields=n}return n}(),Ut=function(){function n(n,t,e){this.name=n,this.fields=t,this.func=e}return n}(),Be=function(){function n(n,t){this.fields=n,this.predicate=t}return n}(),it=function(){function n(n,t){this.fields=n,this.predicate=t}return n}(),ut=function(){function n(n,t){this.vectors=n,this.index=t}return n}(),Ht=function(){function n(n,t){this.vectors=n,this.indices=t}return n}(),j=function(){function n(n){this.vectors=n}return n}(),Fu=function(n){return n*n},er=function(n,t){return function(e){return n>e?n:e>t?t:e}},tr=er(0,1),ei=8,pr=function(n){return n.slice(0)},Gi=function(n,t){var e,r,i,o,u,a,s,c;for(i=[],o=0,a=n.length;a>o;o++)for(e=n[o],c=t(e),u=0,s=c.length;s>u;u++)r=c[u],i.push(r);return i},vo=function(){var n,t;return t=arguments[0],n=2<=arguments.length?Ju.call(arguments,1):[],function(){return t.apply(null,n)}},Je=function(n){return function(){return n}},Ke=function(n,t){var e,r,i,o;if(n&&t&&n.length===t.length){for(e=i=0,o=n.length;o>i;e=++i)if(r=n[e],r!==t[e])return!1;return!0}return!1},Li=function(){var n,t,e,r,i,o,u,a,s;for(t=arguments[0],i=2<=arguments.length?Ju.call(arguments,1):[],e=[],o=0,a=t.length;a>o;o++)for(n=t[o],u=0,s=i.length;s>u;u++)r=i[u],n instanceof r&&e.push(n);return e},Di=function(){var n,t,e,r,i,o,u,a;for(t=arguments[0],r=2<=arguments.length?Ju.call(arguments,1):[],i=0,u=t.length;u>i;i++)for(n=t[i],o=0,a=r.length;a>o;o++)if(e=r[o],n instanceof e)return n},Er=function(n,t){return t>n?new D(n,t):new D(t,n)},fr=function(n){var t,e,r,i,o;for(e=Number.POSITIVE_INFINITY,t=Number.NEGATIVE_INFINITY,i=0,o=n.length;o>i;i++)r=n[i],void 0!==r&&(e>=r&&(e=r),r>=t&&(t=r));return new D(e,t)},vr=function(n){return function(t){return t.min>=n&&t.max>n?1:t.min<n&&t.max<=n?-1:0}},gr=vr(0),cr=function(n,t){return new D(Math.min(n.min,t.min),Math.max(n.max,t.max))},to=function(n){return function(t){return t.min>n&&t.max>n?new D(n,t.max):t.min<n&&t.max<n?new D(t.min,n):t}},no=to(0),Ir=function(n,t,e){var r,i,o;return i=function(){return t.length},r=function(n){return t[n]},o=e?function(n){return e(t[n],n)}:r,new ht(n,n,r,i,t,o)},Zr=function(n,t,e,r){return Uu(n,n,t,e,r)},Uu=function(n,t,e,r,i){var o,u,a,s;return a=fr(r),u=function(){return r.length},o=function(n){return r[n]},s=i?function(n){return i(r[n],n)}:o,new je(n,t,e,o,u,a,s)},Bi=function(n,t,e){var r,i,o,u,a,s,c,l,f,d,g,v,p;for(p=0,g={},l=t(),o=new Array(l),u=function(){var n,t,r;for(r=[],n=0,t=e.length;t>n;n++)f=e[n],r.push(g[f]=new h(p++,f));return r}(),c=v=0;l>=0?l>v:v>l;c=l>=0?++v:--v)a=n(c),f=void 0!==a?a:"?",(i=g[f])||u.push(g[f]=i=new h(p++,f)),o[c]=i;return r=function(n){return o[n]},d=function(n){return o[n].value},s=function(n){return o[n].value},new H(r,d,t,u,s)},Nr=function(n,t,e,r){var i,o,u;return o=function(){return e.length},i=function(n){return e[n]},u=Bi(i,o,r||[]),new G(n,n,t,u.at,u.valueAt,o,u.domain,u.format)},wr=function(n,t){var e,r,i,o,u,a;return i="All",r=new h(0,i),a=function(){return i},e=function(){return r},o=function(){return t},u=function(){return i},new G(n,n,_e,e,a,o,[r],u)},Ar=function(n,t,e,r,i){var o,u;return u=_.indexBy(t,function(n){return n.name}),o=new Z(n,t,u,e,r,null,null,null,i||{}),o.evaluate=function(t){var e,i,a,s;return i=_.isArray(t)?t:[t],a=function(){var a,c,l;for(l=[],a=0,c=i.length;c>a;a++)if(e=i[a],e instanceof ft)l.push(o.evaluate(e.evaluate(o)));else if(e instanceof Ft){if(!r)throw new Error("Cannot compute aggregate ["+e.name+"] on an unaggregated frame.");l.push(o.evaluate(e.evaluate(o,r)))}else{if(!(e instanceof U))throw new Error("Cannot evaluate ["+t+"] on frame ["+n+"].");if(!(s=u[e.name]))throw new Error("Vector ["+e.name+"] does not exist in frame ["+n+"].");l.push(s)}return l}(),_.flatten(a)},o.attach=function(e){if(u[e.name])throw new Error("Cannot attach vector ["+e.name+"]: a vector by that name already exists in frame ["+n+"]");return t.push(e),u[e.name]=e,e},o.exists=function(n){return u[n]?!0:!1},o},yi=function(n){var t,e,r,i,o,u,a,s,c,l,h;for(u=new Array(n.indices.length),e=_.map(n.vectors,function(n){return n instanceof G?n.valueAt:n.at}),h=n.indices,a=0,c=h.length;c>a;a++)for(r=h[a],u[r]=o=new Array(n.vectors.length),i=s=0,l=e.length;l>s;i=++s)t=e[i],o[i]=t(r);return u},Vr=function(n){return new Yt(Li(n,Ut),Li(n,Be),Li(n,et),Li(n,it))},Xr=function(n){return _.map(n,function(n){return new U(n)})},Yr=function(n){return new ft(function(t){var e,r,i,o,u,a,s,c;if(s=_.head(t.evaluate(n)),s instanceof G)return n;for(u=s.count(),e=s.at,i=new Array(u),o=c=0;u>=0?u>c:c>u;o=u>=0?++c:--c)void 0!==(a=e(o))&&(i[o]=""+a);return t.attach(r=Nr("factor("+s.label+")",_e,i)),[new U(r.name)]})},br=function(n){return new ft(function(t){return t.attach(wr(n,t.indices.length)),[new U(n)]})},Oo=ri([String,function(n){return Oo(new U(n))}],[U,function(n){return Yr(n)}],[ae,function(n){var t;return t=n.value,br(t)}]),Jr=function(n,t){return new ft(function(e){var r,i,o,u,a,s,c,l,h,f,d,g,v,p,m,w,b,y,k,x,C,q,S;if(b=_.head(e.evaluate(n)),b instanceof G)throw new Error("Cannot stack factor ["+b.label+"]: expecting vector.");for(d=b.count(),m=new Array(d),c=new Array(d),p="low("+b.name+", "+t+")",s="high("+b.name+", "+t+")",r=b.at,o=e.cube,t=Math.min(t,o.dimension),i=o.cells,v=a=0,y=new Array(t),S=e.indices,k=0,q=S.length;q>k;k++){for(l=S[k],g=i[l].levels,h=x=0;t>=0?t>x:x>t;h=t>=0?++x:--x)if(y[h]!==g[h].category){for(v=a=0,f=C=0;t>=0?t>C:C>t;f=t>=0?++C:--C)y[f]=g[f].category;break}w=r(l),0>w?(m[l]=v,c[l]=v+=w):(m[l]=a,c[l]=a+=w)}return u=function(n,t){return b.format(t)},e.attach(Uu(p,b.name,b.type,m,u)),e.attach(Uu(s,b.name,b.type,c,u)),[new U(p),new U(s)]})},ru=ri([String,Number,function(n,t){return ru(new U(n),t)}],[U,Number,function(n,t){return Jr(n,t)}]),fu=function(n){var t;return t=er(0,n.length-1),function(e){return n[t(-1+Math.round(e*n.length))]}},dr=function(n){var t,e,r,i,o,u,a,s;return s=function(){var t,e,r;for(r=[],t=0,e=n.length;e>t;t++)a=n[t],(a||0===a)&&r.push(a);return r}(),s.sort(function(n,t){return n-t}),e=s[0],t=s[s.length-1],u=fu(s),r=u(.25),i=u(.5),o=u(.75),[e,r,i,o,t]},De=function(n){var t,e,r,i,o;for(e=0,t=0,i=0,o=n.length;o>i;i++)r=n[i],void 0!==r&&(e+=r,t++);return e/t},Ge=function(n){var t,e,r,i;for(t=0,r=0,i=n.length;i>r;r++)e=n[r],void 0!==e&&t++;return t},He=function(n){var t,e,r,i;for(t=Number.NEGATIVE_INFINITY,r=0,i=n.length;i>r;r++)e=n[r],void 0!==e&&e>=t&&(t=e);return t},Ue=function(n){var t,e,r,i;for(t=Number.POSITIVE_INFINITY,r=0,i=n.length;i>r;r++)e=n[r],void 0!==e&&t>=e&&(t=e);return t},$e=function(n){var t,e,r,i;for(t=0,r=0,i=n.length;i>r;r++)e=n[r],void 0!==e&&(t+=e);return t},mr=function(n,t,e,r,i){return new Ft(function(o,u){var a,s,c,l,h,f,d,g,v,p,m,w,b,y,k,x;if(d=t+"("+n.name+")",o.exists(d))return new U(d);for(p=_.head(u.frame.evaluate(n)),a=p.at,l=new Array(u.cells.length),k=u.cells,f=m=0,b=k.length;b>m;f=++m){for(s=k[f],v=[],x=s.indices,w=0,y=x.length;y>w;w++)h=x[w],void 0!==(g=a(h))&&v.push(g);l[f]=i(v)}return o.attach(c=Zr(d,e,l,r)),[new U(c.name)]})},ko=function(n,t,e,r){return ri([String,function(i){return mr(new U(i),n,t,e,r)}],[U,function(i){return mr(i,n,t,e,r)}])},Co=ko("count",we,_.identity,Ge),xo=ko("avg",we,_.identity,De),Bo=ko("max",we,_.identity,He),Lo=ko("min",we,_.identity,Ue),uu=ko("sum",we,_.identity,$e),Xo=function(){var n,t,e;return t=1<=arguments.length?Ju.call(arguments,0):[],e=function(){var e,r,i;for(i=[],e=0,r=t.length;r>e;e++)if(n=t[e],n instanceof U)i.push(n);else{if(!_.isString(n))throw new Error("Cannot group by ["+n+"]");i.push(new U(n))}return i}(),new et(e)},yo=ri([String,[String],Function,function(n,t,e){return new Ut(n,Xr(t),e)}]),nu=function(){var n,t,e,r;return e=arguments[0],t=3<=arguments.length?Ju.call(arguments,1,r=arguments.length-1):(r=1,[]),n=arguments[r++],yo(e,t.length?t:[e],n)},_o=ri([[String],Function,function(n,t){return new Be(Xr(n),t)}]),cu=function(){var n,t,e;return t=2<=arguments.length?Ju.call(arguments,0,e=arguments.length-1):(e=0,[]),n=arguments[e++],_o(t,n)},bo=ri([[String],Function,function(n,t){return new it(Xr(n),t)}],[[U],Function,function(n,t){return new it(n,t)}]),Mo=function(){var n,t,e;return t=2<=arguments.length?Ju.call(arguments,0,e=arguments.length-1):(e=0,[]),n=arguments[e++],bo(t,n)},Wo=function(n){return function(t){return t===n}},Vo=function(n){return function(t){return t!==n}},Ro=function(n){return function(t){return n>t}},Ao=function(n){return function(t){return t>n}},Fo=function(n){return function(t){return n>=t}},Yo=function(n){return function(t){return t>=n}},jo=function(n){if(ye!==zu(n))throw new Error("like ["+n+"]: expecting RegExp");return function(t){return n.test(t)}},Io=function(){var n;return n=1<=arguments.length?Ju.call(arguments,0):[],function(t){var e,r,i;for(r=0,i=n.length;i>r;r++)if(e=n[r],e===t)return!0;return!1}},Do=function(){var n;return n=1<=arguments.length?Ju.call(arguments,0):[],function(t){var e,r,i;for(r=0,i=n.length;i>r;r++)if(e=n[r],e===t)return!1;return!0}},du=function(t,e){var r,i,o,u,a,s,c,l,h;return c=e.where.length?Ar(t.label,t.vectors,Vi(t,e.where)):t,e.group.length?(s=Gi(e.group,function(n){return n.fields}),u=function(){var n,t,e;for(e=[],n=0,t=s.length;t>n;n++){if(a=s[n],h=_.head(c.evaluate(a)),!(h instanceof G))throw new Error("Cannot group by ["+a.name+"]: not a Factor.");e.push(h)}return e}(),l={0:new st(n,c.indices,{})},Qe(l,u,0),i=[],or(l[0].children,s.length-1,i,0,new Array(s.length)),o=new M(c,l,i,s.length),r=Ve(c.label+"'",o,u),e.having.length?Ar(r.label,r.vectors,Vi(r,e.having),r.cube):r):c},Vi=function(n,t){var e,r,i,o,u,a,s,c,l,h,f,d,g,v,p,m;for(f=n.indices,h=0,v=t.length;v>h;h++){for(c=t[h],a=[],l=function(){var t,e,r,i;for(r=c.fields,i=[],t=0,e=r.length;e>t;t++)o=r[t],i.push(_.head(n.evaluate(o)));return i}(),i=_.map(l,function(n){return n instanceof G?n.valueAt:n.at}),d=0,p=f.length;p>d;d++){for(u=f[d],e=new Array(l.length),s=g=0,m=i.length;m>g;s=++g)r=i[s],e[s]=r(u);c.predicate.apply(null,e)&&a.push(u)}f=a}return f},Ve=function(n,t,e){var r,i,o;return r=_.range(t.cells.length),o=function(){var n,r,o;for(o=[],i=n=0,r=t.dimension;r>=0?r>n:n>r;i=r>=0?++n:--n)o.push(Ri(t,e[i],i));return o}(),Ar(n,o,r,t)},Qe=function(n,t,e){var r,i,o,u,a,s,c,l,h,f;r=t[e].at;for(s in n){for(c=n[s],u=c.children,f=c.indices,l=0,h=f.length;h>l;l++)a=f[l],i=r(a),(o=u[i.key])||(u[i.key]=o=new st(i,[],{})),o.indices.push(a);e<t.length-1&&Qe(u,t,e+1)}},or=function(n,t,e,r,i){var o,u;for(o in n)u=n[o],i[r]=u,r===t?e.push(new f(pr(i),u.indices)):or(u.children,t,e,r+1,i)},Ri=function(n,t,e){var r,i,o,u,a,s,c,l,h,f,d,g,v;for(a=new Array(n.cells.length),s={},c=[],v=n.cells,h=d=0,g=v.length;g>d;h=++d)o=v[h],a[h]=i=o.levels[e].category,s[i.value]||(s[i.value]=i,c.push(i));return r=function(n){return a[n]},f=function(n){return a[n].value},l=function(n){return a[n].value},u=function(){return a.length},new G(t.label,t.label,t.type,r,f,u,c,l)},k={c10:["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],c20:["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],c20b:["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],c20c:["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"]},po=function(n){return n>10?k.c20:k.c10},ir=function(n){var t,e,r,i;return i=n.rgb(),r=i[0],e=i[1],t=i[2],chroma.rgb(r,e,t)},ar=function(n){return n.css()},sr=function(n,t){return ir(n).alpha(t).css()},fi=function(n,t,e,r){var i;return i=Math.sqrt(r/Lu),n.beginPath(),n.arc(t,e,i,0,Vu,!1),n.closePath()},vi=function(n,t,e,r){var i;return i=.5*Math.sqrt(r),n.save(),n.translate(t,e),n.beginPath(),n.moveTo(i,i),n.lineTo(-i,i),n.lineTo(-i,-i),n.lineTo(i,-i),n.closePath(),n.restore()},di=function(n,t,e,r){var i,o;return i=.5*Math.sqrt(r/5),o=3*i,n.save(),n.translate(t,e),n.beginPath(),n.moveTo(o,i),n.lineTo(i,i),n.lineTo(i,o),n.lineTo(-i,o),n.lineTo(-i,i),n.lineTo(-o,i),n.lineTo(-o,-i),n.lineTo(-i,-i),n.lineTo(-i,-o),n.lineTo(i,-o),n.lineTo(i,-i),n.lineTo(o,-i),n.closePath(),n.restore()},gi=function(n,t,e,r){var i,o;return o=Math.sqrt(r/(2*Ce)),i=o*Ce,n.save(),n.translate(t,e),n.beginPath(),n.moveTo(i,0),n.lineTo(0,o),n.lineTo(-i,0),n.lineTo(0,-o),n.closePath(),n.restore()},bi=function(n,t,e,r){var i,o;return i=Math.sqrt(r/ue),o=i*ue/2,n.save(),n.translate(t,e),n.beginPath(),n.moveTo(0,-o),n.lineTo(i,o),n.lineTo(-i,o),n.closePath(),n.restore()},pi=function(n,t,e,r){var i,o;return i=Math.sqrt(r/ue),o=i*ue/2,n.save(),n.translate(t,e),n.beginPath(),n.moveTo(0,o),n.lineTo(i,-o),n.lineTo(-i,-o),n.closePath(),n.restore()},wi=function(n,t,e,r){var i,o;return o=Math.sqrt(r/ue),i=o*ue/2,n.save(),n.translate(t,e),n.beginPath(),n.moveTo(i,0),n.lineTo(-i,o),n.lineTo(-i,-o),n.closePath(),n.restore()},mi=function(n,t,e,r){var i,o;return o=Math.sqrt(r/ue),i=o*ue/2,n.save(),n.translate(t,e),n.beginPath(),n.moveTo(-i,0),n.lineTo(i,-o),n.lineTo(i,o),n.closePath(),n.restore()},ne={circle:fi,square:vi,cross:di,diamond:gi,triangleUp:bi,triangleDown:pi,triangleLeft:mi,triangleRight:wi},Zt={c8:["circle","square","cross","diamond","triangleUp","triangleDown","triangleLeft","triangleRight"]},mo=function(){return Zt.c8},Yu=function(n){return function(t){return void 0!==t?n(t):void 0}},zr=function(n,t){var e;return e=d3.scale.linear().domain([n.min,n.max]).range([t.min,t.max]).nice(),[Yu(e),e.tickFormat,e.ticks]},Rr=function(n,t){var e,r,i,o,u,a,s;for(a=0,o={},u=0,s=n.length;s>u;u++)e=n[u],o[e.key]=a++;return r=(t.max-t.min)/n.length/2,i=t.min,Yu(function(n){return i+2*o[n.key]*r+r})},xr=function(n,t){var e,r;return r=t.values,e=r.length,Yu(function(n){return r[n.key%e]})},Ur=function(n,t){return Yu(d3.scale.linear().domain([n.min,n.max]).range([t.min,t.max]))},Or=function(n,t){return Yu(d3.scale.linear().domain([n.min,n.mid,n.max]).range([t.min,t.mid,t.max]))},Hr=function(n,t){return Yu(chroma.scale([t.min,t.max]).domain([n.min,n.max]).mode("lch"))},Wr=function(n,t){var e,r;return e=chroma.scale([t.min,t.mid]).domain([n.min,n.mid]).mode("lch"),r=chroma.scale([t.mid,t.max]).domain([n.mid,n.max]).mode("lch"),function(t){return void 0!==t?t<n.mid?e(t):r(t):void 0}},qr=ri([Jt,x,Hr],[R,x,Wr]),Pr=ri([Jt,Jt,Ur],[R,R,Or]),Ze=function(n){var t;return t=n.toString(16),1===t.length?"0"+t:t},Cr=function(n){var t,e,r,i;return t=n.context,r=n.ratio,e=function(){return"#fff"},i=function(n,e){var i,o,u,a,s;return s=t.getImageData(n*r,e*r,1,1).data,a=s[0],u=s[1],o=s[2],i=s[3],255===a&&255===u&&255===o&&255===i},new g(e,i)},jr=function(n){var t,e,r,i,o,u;return t=n.context,i=n.ratio,u=0,e={},r=function(n){var t,r,i,o;return r=u++,u>=y&&(u=0),e[r]=n,o=r>>16&255,i=r>>8&255,t=255&r,"#"+Ze(o)+Ze(i)+Ze(t)},o=function(n,r){var o,u,a,s,c,l;return l=t.getImageData(n*i,r*i,1,1).data,c=l[0],s=l[1],u=l[2],o=l[3],255===o?(a=(c<<16)+(s<<8)+u,e[a]):void 0},new pt(r,o)},Yi=function(n,t){var e,r,i,o,u,a,s;return s=n.scale,r=n.domain,a=n.range,o=n.guide,u=t.label,e=t.at,i=function(n){return s(e(n))},new Et(u,i,t,r,a,o)},qi=function(n,t){return new C(n.scale(t))},Ci=function(n,t){var e,r,i,o,u,a,s;return t instanceof Ee||t instanceof Pe?(s=_.head(n.evaluate(t.field)),s instanceof G?(t.range||(t.range=new l(po(s.domain.length))),u=xr(s.domain,t.range),e=s.at,i=function(n){return chroma(u(e(n)))},new b(s.label,i,s,s.domain,t.range,null)):(r=function(){switch(gr(s.domain)){case 1:return new Jt(s.domain.min,s.domain.max);case-1:return new Jt(s.domain.min,s.domain.max);default:return new R(s.domain.min,0,s.domain.max)}}(),a=gr(r),o=t.range?t.range instanceof z?r instanceof Jt?1===a?new $t(t.range.mid,t.range.max):new $t(t.range.min,t.range.mid):t.range:(r instanceof R?r=new Jt(r.min,r.max):void 0,t.range):r instanceof Jt?1===a?new $t("#deebf7","#3182bd"):new $t("#e6550d","#fee6ce"):new z("#fc8d59","#ffffbf"),u=qr(r,o),e=s.at,i=function(n){return u(e(n))
},new b(s.label,i,s,r,o,null))):new C(t.value)},Ti=function(n,t){var e,r,i,o,u,a;if(t instanceof Ne||t instanceof Ie){if(a=_.head(n.evaluate(t.field)),a instanceof G)throw new Error("Could not encode opacity. Vector ["+a.label+"] is a Factor.");return r=new Jt(a.domain.min,a.domain.max),o=t.range?new Jt(tr(t.range.min),tr(t.range.max)):t.range=new Jt(.05,1),u=Pr(r,o),e=a.at,i=function(n){return u(e(n))},new bt(a.label,i,a,r,o,null)}return new C(tr(t.value))},Fi=function(n,t){var e,r;return n&&t?(e=n.encode,r=t.encode,new Te("("+n.label+", "+t.label+")",function(n){var t,i;return t=e(n),i=r(n),i>=0&&1>i?sr(t,i):ar(t)})):void 0},zi=function(n,t){return function(e,r,i){var o,u,a,s,c,l;if(r instanceof n){if(l=_.head(e.evaluate(r.field)),l instanceof G)throw new Error("Could not encode size. Vector ["+l.label+"] is a Factor.");return u=new Jt(l.domain.min,l.domain.max),s=r.range?new Jt(tr(r.range.min),tr(r.range.max)):r.range=new Jt(.05,1),c=Pr(u,s),o=l.at,a=function(n){return i*c(o(n))},new t(l.label,a,u,s,null)}return new C(i*tr(r.value))}},Pi=zi(Me,re),ji=zi(Fe,re),Wi=zi(Ye,re),_i=function(n,t){var e,r,i,o,u,a;if(t instanceof Me){if(a=_.head(n.evaluate(t.field)),a instanceof G)throw new Error("Could not encode size. Vector ["+a.label+"] is a Factor.");return r=new Jt(a.domain.min,a.domain.max),o=t.range?new Jt(Fu(t.range.min),Fu(t.range.max)):t.range=new Jt(Fu(ei),Fu(30)),u=Pr(r,o),e=a.at,i=function(n){return u(e(n))},new re(a.label,i,a,r,o,null)}return new C(Fu(t.value))},Oi=function(n,t){var e,r,i,o,u,a;if(t instanceof Xe){if(a=_.head(n.evaluate(t.field)),a instanceof G)throw new Error("Could not encode lineWidth. Vector ["+a.label+"] is a Factor.");return r=new Jt(a.domain.min,a.domain.max),o=t.range?new Jt(t.range.min,t.range.max):t.range=new Jt(1.5,15),u=Pr(r,o),e=a.at,i=function(n){return u(e(n))},new re(a.label,i,a,r,o,null)}return new C(t.value)},Mi=function(n,t){var e,r,i,o;if(t instanceof Ae){if(o=_.head(n.evaluate(t.field)),!(o instanceof G))throw new Error("Could not encode shape. Vector ["+o.label+"] is not a Factor.");return t.range||(t.range=new l(mo(o.domain.length))),i=xr(o.domain,t.range),e=o.at,r=function(n){return ne[i(e(n))]},new Qt(o.label,r,o,o.domain,t.range,null)}return new C(ne[t.value]||ne.circle)},eo=function(n,t){return[null!=n?n:new q(chroma(_.head(k.c10))),null!=t?t:new S(1)]},io=function(n,t,e){return[null!=n?n:new N(chroma(_.head(k.c10))),null!=t?t:new Y(1),null!=e?e:new O(1.5)]},ro=function(n,t,e,r,i,o,u){var a,s,c,l;return a=n||t,s=e||r||i,a||s||(o&&(a=!0),u&&(s=!0)),a&&(c=eo(n,t),n=c[0],t=c[1]),s&&(l=io(e,r,i),e=l[0],r=l[1],i=l[2]),[n,t,e,r,i]},Si=function(n,t){var e,r;return t.fillColor||t.fillOpacity?[e=Ci(n,t.fillColor),r=Ti(n,t.fillOpacity),Fi(e,r)]:[]},Ii=function(n,t){var e,r;return t.strokeColor||t.strokeOpacity||t.lineWidth?[e=Ci(n,t.strokeColor),r=Ti(n,t.strokeOpacity),Fi(e,r),Oi(n,t.lineWidth)]:[]},rr=function(n,t,e,r,i){return n.beginPath(),n.rect(t,e,r,i),n.clip()},hi=function(n,t,e){return n.lineWidth=e,n.strokeStyle=t,n.stroke()},oi=function(n,t){return n.fillStyle=t,n.fill()},ui=function(n,t,e,r,i){return n.beginPath(),n.moveTo(t,e),n.lineTo(r,i),n.stroke()},si=function(n,t,e,r,i){return n.beginPath(),r>e?n.rect(t-i/2,e,i,r-e):n.rect(t-i/2,r,i,e-r),n.closePath()},ai=function(n,t,e,r,i){return n.beginPath(),e>t?n.rect(t,r-i/2,e-t,i):n.rect(e,r-i/2,t-e,i),n.closePath()},ci=function(n,t,e,r,i,o,u,a,s,c){var l,h;return void 0!==t&&void 0!==e&&void 0!==r&&void 0!==i&&void 0!==o&&void 0!==u&&void 0!==a&&void 0!==s&&void 0!==c?(n.strokeStyle=s,n.lineWidth=c,ai(n,e,i,u,a),n.stroke(),l=a/2,h=a/4,ui(n,r,u-l,r,u+l),ui(n,e,u,t,u),ui(n,i,u,o,u),ui(n,t,u-h,t,u+h),ui(n,o,u-h,o,u+h)):void 0},li=function(n,t,e,r,i,o,u,a,s,c){var l,h;return void 0!==t&&void 0!==e&&void 0!==r&&void 0!==i&&void 0!==o&&void 0!==u&&void 0!==a&&void 0!==s&&void 0!==c?(n.strokeStyle=s,n.lineWidth=c,si(n,t,r,o,a),n.stroke(),l=a/2,h=a/4,ui(n,t-l,i,t+l,i),ui(n,t,r,t,e),ui(n,t,o,t,u),ui(n,t-h,e,t+h,e),ui(n,t-h,u,t+h,u)):void 0},Lr=function(n,t){var e,r,i,o,u,a,s,c,l,h,f,d,g;return o=t[0],u=t[1],c=new oe([o],[u]),a=null!=(f=n.shape)?f:new T("circle"),s=null!=(d=n.size)?d:new E(ei),g=ro(n.fillColor,n.fillOpacity,n.strokeColor,n.strokeOpacity,n.lineWidth,!1,!0),e=g[0],r=g[1],l=g[2],h=g[3],i=g[4],new Ot(c,o,u,a,s,e,r,l,h,i)},Ni=function(n,t,e,r){var i,o,u,a,s,c,l,h,f,d,g,v,p;return s=Yi(e,t.positionX),c=Yi(r,t.positionY),l=Mi(n,t.shape),h=_i(n,t.size),v=Si(n,t),o=v[0],u=v[1],i=v[2],p=Ii(n,t),d=p[0],g=p[1],f=p[2],a=p[3],new qt(s,c,l,h,i,o,u,f,d,g,a)},Ki=function(n,t,e){var r,i,o,u,a,s,c,l,h,f,d,g,v,p;for(u=t.positionX,a=t.positionY,s=t.shape,c=t.size,r=t.fill,l=t.stroke,o=t.lineWidth,e.save(),d=0,v=n.length;v>d;d++)i=n[d],h=u(i),f=a(i),void 0!==h&&void 0!==f&&(s(i)(e,h,f,c(i)),e.lineWidth=2+(l?o(i):1),e.stroke());for(e.restore(),e.save(),e.globalCompositeOperation="destination-out",e.fillStyle=e.strokeStyle="black",g=0,p=n.length;p>g;g++)i=n[g],h=u(i),f=a(i),void 0!==h&&void 0!==f&&(s(i)(e,h,f,c(i)),l&&(e.lineWidth=o(i),e.stroke()),r&&e.fill());return e.restore()},ho=function(n,t,e,r){var i,o,u,a,s,c,l,h,f,d,g,v;for(a=t.positionX,s=t.positionY,c=t.shape,l=t.size,h=t.stroke,o=t.lineWidth,e.save(),g=0,v=n.length;v>g;g++)i=n[g],f=a(i),d=s(i),void 0!==f&&void 0!==d&&(u=r.put(i),c(i)(e,f,d,l(i)),e.fillStyle=u,e.fill(),h&&(e.lineWidth=o(i),e.strokeStyle=u,e.stroke()));return e.restore()},Su=function(n,t,e){var r,i,o,u,a,s,c,l,h,f,d,g;for(u=t.positionX,a=t.positionY,s=t.shape,c=t.size,r=t.fill,l=t.stroke,o=t.lineWidth,e.save(),d=0,g=n.length;g>d;d++)i=n[d],h=u(i),f=a(i),void 0!==h&&void 0!==f&&(s(i)(e,h,f,c(i)),l&&(e.lineWidth=o(i),e.strokeStyle=l(i),e.stroke()),r&&(e.fillStyle=r(i),e.fill()));return e.restore()},Mu=function(n,t,e,r,i,o){var u,a,s,c,l,h,f,d;for(a=t.positionX,s=t.positionY,c=[],f=0,d=n.length;d>f;f++)u=n[f],l=a(u),h=s(u),void 0!==l&&void 0!==h&&l>=e&&i>=l&&h>=r&&o>=h&&c.push(u);return c},ju=function(n){return _.map(n,function(n){return n.type}).join(", ")},Dr=function(n,t){var e,r,o,u,a,s,c,l,h,f,d,g,v,p,w,b,y,_,k,x,C,q,S;switch(p=ju(t)){case"String, Number":return a=t[0],f=t[1],d=new oe([a],[f]),w=null!=(b=n.width)?b:new X(.8),y=ro(n.fillColor,n.fillOpacity,n.strokeColor,n.strokeOpacity,n.lineWidth,!0,!1),e=y[0],r=y[1],g=y[2],v=y[3],u=y[4],new m(d,a,void 0,f,w,e,r,g,v,u);case"String, Number, Number":return a=t[0],h=t[1],f=t[2],d=new oe([a],[h,f]),w=null!=(_=n.width)?_:new X(.8),k=ro(n.fillColor,n.fillOpacity,n.strokeColor,n.strokeOpacity,n.lineWidth,!0,!1),e=k[0],r=k[1],g=k[2],v=k[3],u=k[4],new m(d,a,h,f,w,e,r,g,v,u);case"Number, String":return c=t[0],l=t[1],d=new oe([c],[l]),o=null!=(x=n.height)?x:new W(.8),C=ro(n.fillColor,n.fillOpacity,n.strokeColor,n.strokeOpacity,n.lineWidth,!0,!1),e=C[0],r=C[1],g=C[2],v=C[3],u=C[4],new i(d,void 0,c,l,o,e,r,g,v,u);case"Number, Number, String":return s=t[0],c=t[1],l=t[2],d=new oe([s,c],[l]),o=null!=(q=n.height)?q:new W(.8),S=ro(n.fillColor,n.fillOpacity,n.strokeColor,n.strokeOpacity,n.lineWidth,!0,!1),e=S[0],r=S[1],g=S[2],v=S[3],u=S[4],new i(d,s,c,l,o,e,r,g,v,u);default:throw new Error("Cannot create rect marks with vectors of type ["+p+"]")}},xi=function(n,t,e,r){var i,o,u,a,s,c,l,h,f,d,g,p,m;return s=Yi(e,t.positionX),c=t.positionY1?Yi(r,t.positionY1):qi(r,0),l=Yi(r,t.positionY2),g=Pi(n,t.width,e.rect.width/e.domain.length),p=Si(n,t),o=p[0],u=p[1],i=p[2],m=Ii(n,t),f=m[0],d=m[1],h=m[2],a=m[3],new v(s,c,l,g,i,o,u,h,f,d,a)},ki=function(n,t,r,i){var o,u,a,s,c,l,h,f,d,g,v,p,m,w,b,y,_;switch(t.space.x.length){case 1:m=t.space.x[0],l=qi(r,0),h=Yi(r,m);break;default:b=t.space.x,p=b[0],m=b[1],l=Yi(r,p),h=Yi(r,m)}return w=t.space.y[0],f=Yi(i,w),s=Pi(n,t.height,i.rect.height/i.domain.length),y=Si(n,t),u=y[0],a=y[1],o=y[2],_=Ii(n,t),g=_[0],v=_[1],d=_[2],c=_[3],new e(l,h,f,s,o,u,a,d,g,v,c)},$i=function(n,t,e){var r,i,o,u,a,s,c,l,h,f,d,g,v,p,m,w;for(u=t.positionX,a=t.positionY1,s=t.positionY2,h=t.width,r=t.fill,c=t.stroke,o=t.lineWidth,e.save(),v=0,m=n.length;m>v;v++)i=n[v],f=u(i),d=a(i),g=s(i),l=h(i),void 0!==f&&void 0!==d&&void 0!==g&&void 0!==l&&(si(e,f,d,g,l),e.lineWidth=2+(c?o(i):1),e.stroke());for(e.restore(),e.save(),e.globalCompositeOperation="destination-out",e.fillStyle=e.strokeStyle="black",p=0,w=n.length;w>p;p++)i=n[p],f=u(i),d=a(i),g=s(i),l=h(i),void 0!==f&&void 0!==d&&void 0!==g&&void 0!==l&&(si(e,f,d,g,l),c&&(e.lineWidth=o(i),e.stroke()),r&&e.fill());return e.restore()},Ui=function(n,t,e){var r,i,o,u,a,s,c,l,h,f,d,g,v,p,m,w;for(s=t.positionX1,c=t.positionX2,l=t.positionY,o=t.height,r=t.fill,h=t.stroke,a=t.lineWidth,e.save(),v=0,m=n.length;m>v;v++)u=n[v],f=s(u),d=c(u),g=l(u),i=o(u),void 0!==f&&void 0!==d&&void 0!==g&&void 0!==i&&(ai(e,f,d,g,i),e.lineWidth=2+(h?a(u):1),e.stroke());for(e.restore(),e.save(),e.globalCompositeOperation="destination-out",e.fillStyle=e.strokeStyle="black",p=0,w=n.length;w>p;p++)u=n[p],f=s(u),d=c(u),g=l(u),i=o(u),void 0!==f&&void 0!==d&&void 0!==g&&void 0!==i&&(ai(e,f,d,g,i),h&&(e.lineWidth=a(u),e.stroke()),r&&e.fill());return e.restore()},co=function(n,t,e,r){var i,o,u,a,s,c,l,h,f,d,g,v,p,m;for(a=t.positionX,s=t.positionY1,c=t.positionY2,f=t.width,l=t.stroke,o=t.lineWidth,e.save(),p=0,m=n.length;m>p;p++)i=n[p],d=a(i),g=s(i),v=c(i),h=f(i),void 0!==d&&void 0!==g&&void 0!==v&&void 0!==h&&(u=r.put(i),si(e,d,g,v,h),oi(e,u),l&&hi(e,u,o(i)));return e.restore()},so=function(n,t,e,r){var i,o,u,a,s,c,l,h,f,d,g,v,p,m;for(c=t.positionX1,l=t.positionX2,h=t.positionY,o=t.height,f=t.stroke,a=t.lineWidth,e.save(),p=0,m=n.length;m>p;p++)u=n[p],d=c(u),g=l(u),v=h(u),i=o(u),void 0!==d&&void 0!==g&&void 0!==v&&void 0!==i&&(s=r.put(u),ai(e,d,g,v,i),oi(e,s),f&&hi(e,s,a(u)));return e.restore()},bu=function(n,t,e){var r,i,o,u,a,s,c,l,h,f,d,g,v,p;for(u=t.positionX,a=t.positionY1,s=t.positionY2,h=t.width,r=t.fill,c=t.stroke,o=t.lineWidth,e.save(),v=0,p=n.length;p>v;v++)i=n[v],f=u(i),d=a(i),g=s(i),l=h(i),void 0!==f&&void 0!==d&&void 0!==g&&void 0!==l&&(si(e,f,d,g,l),c&&hi(e,c(i),o(i)),r&&oi(e,r(i)));return e.restore()},wu=function(n,t,e){var r,i,o,u,a,s,c,l,h,f,d,g,v,p;for(s=t.positionX1,c=t.positionX2,l=t.positionY,o=t.height,r=t.fill,h=t.stroke,a=t.lineWidth,e.save(),v=0,p=n.length;p>v;v++)u=n[v],f=s(u),d=c(u),g=l(u),i=o(u),void 0!==f&&void 0!==d&&void 0!==g&&void 0!==i&&(ai(e,f,d,g,i),h&&hi(e,h(u),a(u)),r&&oi(e,r(u)));return e.restore()},Au=function(n,t,e,r,i,o){var u,a,s,c,l,h,f,d,g,v,p,m,w,b,y;for(a=t.positionX,s=t.positionY1,c=t.positionY2,f=t.width,l=[],b=0,y=n.length;y>b;b++)u=n[b],d=a(u),p=s(u),m=c(u),p>m&&(w=p,p=m,m=w),h=f(u),void 0!==d&&void 0!==p&&void 0!==m&&void 0!==h&&(g=d-h/2,v=d+h/2,e>v||g>i||r>m||p>o||l.push(u));return l},Xu=function(n,t,e,r,i,o){var u,a,s,c,l,h,f,d,g,v,p,m,w,b,y;for(c=t.positionX1,l=t.positionX2,h=t.positionY,a=t.height,f=[],b=0,y=n.length;y>b;b++)s=n[b],d=c(s),g=l(s),p=h(s),d>g&&(v=d,d=g,g=v),u=a(s),void 0!==d&&void 0!==g&&void 0!==p&&void 0!==u&&(m=p-u/2,w=p+u/2,e>g||d>i||r>w||m>o||f.push(s));return f},Gr=function(n,t){var e,r,i,o,u,a,s,c,l,h,f,d,g,v,p,m,w,b;switch(f=ju(t)){case"String, Number, Number, Number, Number, Number":return g=t[0],i=t[1],o=t[2],u=t[3],a=t[4],s=t[5],c=new oe([g],[i,o,u,a,s]),d=null!=(p=n.width)?p:new X(.8),m=io(n.strokeColor,n.strokeOpacity,n.lineWidth),l=m[0],h=m[1],r=m[2],new Gt(c,g,i,o,u,a,s,d,l,h,r);case"Number, Number, Number, Number, Number, String":return i=t[0],o=t[1],u=t[2],a=t[3],s=t[4],v=t[5],c=new oe([i,o,u,a,s],[v]),e=null!=(w=n.height)?w:new X(.8),b=io(n.strokeColor,n.strokeOpacity,n.lineWidth),l=b[0],h=b[1],r=b[2],new Lt(c,i,o,u,a,s,v,e,l,h,r)}},Xi=function(n,t,e,r){var i,o,u,a,s,c,l,h,f,d,g,v;return u=Yi(e,t.q0),a=Yi(e,t.q1),s=Yi(e,t.q2),c=Yi(e,t.q3),l=Yi(e,t.qn),g=Yi(r,t.positionY),i=Pi(n,t.height,r.rect.height/r.domain.length),v=Ii(n,t),f=v[0],d=v[1],h=v[2],o=v[3],new Rt(u,a,s,c,l,g,i,h,f,d,o)},Qi=function(n,t,e){var r,i,o,u,a,s,c,l,h,f,d,g,v,p;for(u=t.positionY,a=t.q0,s=t.q1,c=t.q2,l=t.q3,h=t.qn,r=t.height,f=t.stroke,o=t.lineWidth,e.save(),d=0,v=n.length;v>d;d++)i=n[d],ci(e,a(i),s(i),c(i),l(i),h(i),u(i),r(i),f(i),2+(f?o(i):1));for(e.restore(),e.save(),e.globalCompositeOperation="destination-out",e.strokeStyle="black",g=0,p=n.length;p>g;g++)i=n[g],ci(e,a(i),s(i),c(i),l(i),h(i),u(i),r(i),f(i),o(i));return e.restore()},fo=function(n,t,e,r){var i,o,u,a,s,c,l,h,f,d,g,v,p,m,w,b,y;for(c=t.positionY,l=t.q0,h=t.q1,f=t.q2,d=t.q3,g=t.qn,o=t.height,v=t.stroke,a=t.lineWidth,e.save(),b=0,y=n.length;y>b;b++)u=n[b],p=l(u),m=g(u),w=c(u),i=o(u),void 0!==p&&void 0!==m&&void 0!==w&&void 0!==i&&(s=r.put(u),ai(e,p,m,w,i),oi(e,s),hi(e,s,a(u)));return e.restore()},Ou=function(n,t,e){var r,i,o,u,a,s,c,l,h,f,d,g;for(u=t.positionY,a=t.q0,s=t.q1,c=t.q2,l=t.q3,h=t.qn,r=t.height,f=t.stroke,o=t.lineWidth,e.save(),d=0,g=n.length;g>d;d++)i=n[d],ci(e,a(i),s(i),c(i),l(i),h(i),u(i),r(i),f(i),o(i));return e.restore()},Pu=function(n,t,e,r,i,o){var u,a,s,c,l,h,f,d,g,v,p,m,w,b,y,_,k,x,C,q;for(l=t.positionY,h=t.q0,f=t.q1,d=t.q2,g=t.q3,v=t.qn,a=t.height,m=t.stroke,c=t.lineWidth,p=[],C=0,q=n.length;q>C;C++)s=n[C],w=h(s),b=v(s),_=l(s),w>b&&(y=w,w=b,b=y),u=a(s),void 0!==w&&void 0!==b&&void 0!==_&&void 0!==u&&(k=_-u/2,x=_+u/2,e>b||w>i||r>x||k>o||p.push(s));return p},Ai=function(n,t,e,r){var i,o,u,a,s,c,l,h,f,d,g,v;return g=Yi(e,t.positionX),o=Yi(r,t.q0),u=Yi(r,t.q1),a=Yi(r,t.q2),s=Yi(r,t.q3),c=Yi(r,t.qn),d=Pi(n,t.width,e.rect.width/e.domain.length),v=Ii(n,t),h=v[0],f=v[1],l=v[2],i=v[3],new Vt(g,o,u,a,s,c,d,l,h,f,i)},Zi=function(n,t,e){var r,i,o,u,a,s,c,l,h,f,d,g,v,p;for(o=t.positionX,u=t.q0,a=t.q1,s=t.q2,c=t.q3,l=t.qn,f=t.width,h=t.stroke,i=t.lineWidth,e.save(),d=0,v=n.length;v>d;d++)r=n[d],li(e,o(r),u(r),a(r),s(r),c(r),l(r),f(r),h(r),2+(h?i(r):1));for(e.restore(),e.save(),e.globalCompositeOperation="destination-out",e.strokeStyle="black",g=0,p=n.length;p>g;g++)r=n[g],li(e,o(r),u(r),a(r),s(r),c(r),l(r),f(r),h(r),i(r));return e.restore()},go=function(n,t,e,r){var i,o,u,a,s,c,l,h,f,d,g,v,p,m,w,b,y;for(a=t.positionX,s=t.q0,c=t.q1,l=t.q2,h=t.q3,f=t.qn,v=t.width,d=t.stroke,o=t.lineWidth,e.save(),b=0,y=n.length;y>b;b++)i=n[b],p=a(i),m=s(i),w=f(i),g=v(i),void 0!==p&&void 0!==m&&void 0!==w&&void 0!==g&&(u=r.put(i),si(e,p,m,w,g),oi(e,u),hi(e,u,o(i)));return e.restore()},Tu=function(n,t,e){var r,i,o,u,a,s,c,l,h,f,d,g;for(o=t.positionX,u=t.q0,a=t.q1,s=t.q2,c=t.q3,l=t.qn,f=t.width,h=t.stroke,i=t.lineWidth,e.save(),d=0,g=n.length;g>d;d++)r=n[d],li(e,o(r),u(r),a(r),s(r),c(r),l(r),f(r),h(r),i(r));return e.restore()},Iu=function(n,t,e,r,i,o){var u,a,s,c,l,h,f,d,g,v,p,m,w,b,y,_,k,x,C,q;for(s=t.positionX,c=t.q0,l=t.q1,h=t.q2,f=t.q3,d=t.qn,m=t.width,v=t.stroke,a=t.lineWidth,g=[],C=0,q=n.length;q>C;C++)u=n[C],w=s(u),_=c(u),k=d(u),_>k&&(x=_,_=k,k=x),p=m(u),void 0!==w&&void 0!==_&&void 0!==k&&void 0!==p&&(b=w-p/2,y=w+p/2,e>y||b>i||r>k||_>o||g.push(u));return g},Br=function(n,t){var e,r,i,o,u,a,s;return r=t[0],i=t[1],o=new oe([r],[i]),s=io(n.strokeColor,n.strokeOpacity,n.lineWidth),u=s[0],a=s[1],e=s[2],new xt(o,r,i,u,a,e)},Ei=function(n,t,e,r){var i,o,u,a,s,c,l;return o=Yi(e,t.positionX),u=Yi(r,t.positionY),l=Ii(n,t),s=l[0],c=l[1],a=l[2],i=l[3],new yt(o,u,a,s,c,i)},Ji=function(n,t,e){var r,i,o,u,a,s,c;for(i=t.positionX,o=t.positionY,e.save(),s=0,c=n.length;c>s;s++)r=n[s],u=i(r),a=o(r),e.lineWidth=1.5,e.strokeStyle="black",void 0!==u&&void 0!==a&&(fi(e,u,a,64),e.stroke());return e.restore()},lo=function(n,t,e,r){var i,o,u,a,s,c,l;for(o=t.positionX,u=t.positionY,e.save(),c=0,l=n.length;l>c;c++)i=n[c],a=o(i),s=u(i),void 0!==a&&void 0!==s&&(fi(e,a,s,64),e.fillStyle=r.put(i),e.fill());return e.restore()},Cu=function(n,t,e){var r,i,o,u,a,s,c,l,h,f,d,g,v,p,m,w,b,y,_;if(u=t.positionX,a=t.positionY,s=t.stroke,o=t.lineWidth,s instanceof C&&o instanceof C){for(e.strokeStyle=s(),e.lineWidth=o(),e.save(),w=!1,m=0,y=n.length;y>m;m++)i=n[m],h=u(i),g=a(i),void 0!==h&&void 0!==g?w?e.lineTo(h,g):(e.beginPath(),w=!0,e.moveTo(h,g)):(w&&e.stroke(),w=!1);return e.restore()}for(e.save(),e.lineCap="round",w=!1,f=void 0,v=void 0,c=void 0,b=0,_=n.length;_>b;b++)i=n[b],d=u(i),p=a(i),void 0!==d&&void 0!==p?(l=s(i),w&&(l!==c?(r=e.createLinearGradient(f,v,d,p),r.addColorStop(0,c||We),r.addColorStop(1,l||We),e.strokeStyle=r):e.strokeStyle=l,e.lineWidth=o(i),e.beginPath(),e.moveTo(f,v),e.lineTo(d,p),e.stroke()),w=!0,f=d,v=p,c=l):w=!1;return e.restore()},Fr=ri([St,Array,Lr],[_t,Array,Br],[It,Array,Dr],[zt,Array,Gr]),Wt=new nt(Ni,ho,Ki,Su,Mu),kt=new nt(Ei,lo,Ji,Cu,Mu),p=new nt(xi,co,$i,bu,Au),r=new nt(ki,so,Ui,wu,Xu),Bt=new nt(Xi,fo,Qi,Ou,Pu),Dt=new nt(Ai,go,Zi,Tu,Iu),No=ri([Z,_.identity],[Function,function(n){return new P(n)}]),su=ri([Number,function(n){return new wt(n)}],[Boolean,function(n){return new o(n)}],[Date,function(n){return new I(n)}],[String,function(n){return new ae(n)}]),So=function(){var n;n=1<=arguments.length?Ju.call(arguments,0):[]},Jo=ri([Array,function(n){return new l(n)}],[Number,function(n){return n>0?new Jt(0,n):0>n?new Jt(n,0):new R(-1,0,1)}],[String,function(n){return new $t(n,"black")}],[Number,Number,function(n,t){return t>=n?new Jt(n,t):new Jt(t,n)}],[String,String,function(n,t){return new $t(n,t)}],[Number,Number,Number,function(n,t,e){var r,i,o,u;return u=_.sortBy([n,t,e],_.identity),r=u[0],i=u[1],o=u[2],new R(r,i,o)}],[String,String,String,function(n,t,e){return new z(n,t,e)}]),ur=function(n){var t,e,r,i,o;for(o=[],r=0,i=n.length;i>r;r++)if(t=n[r],t instanceof U)o.push(t);else{if(_e!==(e=zu(t)))throw new Error("Cannot create vector reference from ["+t+"] of type ["+e+"].");o.push(new U(t))}return o},$o=function(){var n,t;return n=1<=arguments.length?Ju.call(arguments,0):[],new Tt(function(){var e,r,i,o;for(i=ur(n),o=[],e=0,r=i.length;r>e;e++)t=i[e],o.push(new A(t));return o}())},To=ri([ae,function(n){return new q(chroma(n.value))}],[String,function(n){return new Ee(new U(n))}],[U,function(n){return new Ee(n)}],[String,x,function(n,t){return new Ee(new U(n),t)}],[U,x,function(n,t){return new Ee(n,t)}],[String,l,function(n,t){return new Ee(new U(n),t)}],[U,l,function(n,t){return new Ee(n,t)}]),Eo=ri([wt,function(n){return new S(n.value)}],[String,function(n){return new Ne(new U(n))}],[U,function(n){return new Ne(n)}],[String,Jt,function(n,t){return new Ne(new U(n),t)}],[U,Jt,function(n,t){return new Ne(n,t)}]),iu=ri([ae,function(n){return new N(chroma(n.value))}],[String,function(n){return new Pe(new U(n))}],[U,function(n){return new Pe(n)}],[String,x,function(n,t){return new Pe(new U(n),t)}],[U,x,function(n,t){return new Pe(n,t)}],[String,l,function(n,t){return new Pe(new U(n),t)}],[U,l,function(n,t){return new Pe(n,t)}]),ou=ri([wt,function(n){return new Y(n.value)}],[String,function(n){return new Ie(new U(n))}],[U,function(n){return new Ie(n)}],[String,Jt,function(n,t){return new Ie(new U(n),t)}],[U,Jt,function(n,t){return new Ie(n,t)}]),ii=function(n,t){return ri([wt,function(t){return new n(t.value)}],[String,function(n){return new t(new U(n))}],[U,function(n){return new t(n)}],[String,Jt,function(n,e){return new t(new U(n),e)}],[U,Jt,function(n,e){return new t(n,e)}])},eu=ii(E,Me),lu=ii(X,Fe),Po=ii(W,Ye),zo=ri([wt,function(n){return new O(n.value)}],[String,function(n){return new Xe(new U(n))}],[U,function(n){return new Xe(n)}],[String,Jt,function(n,t){return new Xe(new U(n),t)}],[U,Jt,function(n,t){return new Xe(n,t)}]),tu=ri([ae,function(n){return new T(n.value)}],[String,function(n){return new Ae(new U(n))}],[U,function(n){return new Ae(n)}],[String,l,function(n,t){return new Ae(new U(n),t)}],[U,l,function(n,t){return new Ae(n,t)}]),au=function(){var n;return n=1<=arguments.length?Ju.call(arguments,0):[],new xe(ur(n))},Ko=function(n){return null==n&&(n=0),new Mt(n)},Uo=function(){var n,t,e,r,i,o,u,a,s;return r=1<=arguments.length?Ju.call(arguments,0):[],i=Di(r,Tt),o=Di(r,Kt),u=Di(r,ee),n=Di(r,K),t=Di(r,Q),a=Di(r,ce),s=Di(r,le),e=Di(r,ct),new St(i,o,u,n,t,a,s,e)},Qo=function(){var n,t,e,r,i,o,u,a,s;return i=1<=arguments.length?Ju.call(arguments,0):[],o=Di(i,Tt),s=Di(i,Le),e=Di(i,ot),n=Di(i,K),t=Di(i,Q),u=Di(i,ce),a=Di(i,le),r=Di(i,ct),new It(o,s,e,n,t,u,a,r)},Ho=function(){var n,t,e,r,i;return t=1<=arguments.length?Ju.call(arguments,0):[],e=Di(t,Tt),r=Di(t,ce),i=Di(t,le),n=Di(t,ct),new _t(e,r,i,n)},Zo=function(){var n,t,e,r,i,o,u;return e=1<=arguments.length?Ju.call(arguments,0):[],r=Di(e,Tt),u=Di(e,Le),n=Di(e,ot),i=Di(e,ce),o=Di(e,le),t=Di(e,ct),new zt(r,u,n,i,o,t)},Go=function(n,t){var e;return e=function(n,t){var r,i,o,u;if(_.isArray(n)){for(i=n.length,o=[];i--;)r=n[i],null!==r&&_.isObject(r)?(e(r,t),o.push(t(r))):o.push(void 0);return o}u=[];for(i in n)Qu.call(n,i)&&(r=n[i],null!==r&&_.isObject(r)?(e(r,t),u.push(t(r))):u.push(void 0));return u},function(r){var i;return i=n.parse(r),e(i,function(n){var t;"CallExpression"===n.type&&"Identifier"===n.callee.type?_.isFunction(wo[t=n.callee.name])&&(n.callee={type:"MemberExpression",computed:!1,object:{type:"Identifier",name:"plot"},property:{type:"Identifier",name:t}}):"Identifier"===n.type&&_.isFunction(wo[t=n.name])&&(delete n.name,n.type="MemberExpression",n.computed=!1,n.object={type:"Identifier",name:"plot"},n.property={type:"Identifier",name:t})}),t.generate(i)}},qo={maxCanvasSize:new te(795,600),visualizationSize:new te(300,300),axisLabelFont:"10px monospace",axisTickColor:"#4d4d4d",axisTitleFont:"bold 10px monospace",axisLabelColor:"#4d4d4d",gridLineColor:"#eee"},hu=function(n){return Math.round(n)+"px"},Sr=function(n,t){var e,r,i,o;e=document.createElement(n),i=e.style;for(r in t)o=t[r],i[r]=o;return e},gu=function(n){for(var t;t=n.firstChild;)n.removeChild(t)},Kr=function(n){var t,e,r,i,o,u,a,s;u=function(){var t;t=[];for(o in n)a=n[o],r=function(){var n;n=[];for(i in a)s=a[i],n.push(i+":"+s);return n}(),t.push(o+"{"+r.join(";")+";}");return t}(),t=document.createElement("style"),t.type="text/css",t.innerHTML=u.join("\n"),e=_.head(document.getElementsByTagName("head")),e.appendChild(t)},Qr=function(n){var t,e,r,i,o,u,a;e=document.createElement("table"),e.appendChild(r=document.createElement("tbody"));for(t in n)a=n[t],r.appendChild(u=document.createElement("tr")),u.appendChild(i=document.createElement("td")),i.appendChild(document.createTextNode(t+":")),u.appendChild(o=document.createElement("th")),o.appendChild(document.createTextNode(a));return e},kr=function(n){var t,e,r,i,o,u,a;return a=n.width,o=n.height,i=document.createElement("canvas"),e=i.getContext("2d"),r=window.devicePixelRatio||1,t=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1,u=r/t,i.style.position="absolute",r!==t?(i.width=a*u,i.height=o*u,e.scale(u,u),i.style.width=hu(a),i.style.height=hu(o)):(i.width=a,i.height=o),new s(i,e,n,u)},ni=function(n){var t,e,r,i,o,u,a,s,c,l,h,f;return f=function(){var t,e;for(e=[],a=t=1;5>=t;a=++t)e.push(kr(n));return e}(),t=f[0],o=f[1],u=f[2],l=f[3],r=f[4],i=Sr("div",{position:"relative",overflow:"visible",width:hu(n.width),height:hu(n.height)}),s=Sr("div",{position:"absolute",left:hu(0),top:hu(0),width:hu(0),height:hu(0),display:"none",outline:"1px dotted #999",background:"rgba(0, 0, 0, 0.05)"}),h=Sr("div",{position:"absolute",left:hu(0),top:hu(0),display:"none"}),h.className="lightning-tooltip",i.appendChild(t.element),i.appendChild(o.element),i.appendChild(s),i.appendChild(u.element),i.appendChild(h),c=jr(l),e=Cr(r),new ze(n,i,t,o,u,l,r,s,h,c,e)},Hi=function(n){var t,e,r;return e=null!=(r=n.target)?r:n.srcElement,t=e.getBoundingClientRect(),[n.clientX-t.left,n.clientY-t.top]},nr=function(n,t,e,r,i){var o,u,a,s,c,l,h,f,d,g;u=$(document),o=$(n),s=t.style,c=f=l=d=h=g=0,a=!1,o.on("mousemove",function(n){var t;return c=n.offsetX,f=n.offsetY,(void 0===c||void 0===f)&&(t=Hi(n),c=t[0],f=t[1]),a?(s.left=hu(c>l?l:c),s.top=hu(f>d?d:f),s.width=hu(Math.abs(c-l)),s.height=hu(Math.abs(f-d))):e(c,f)}),o.on("mousedown",function(n){var t;return n.preventDefault(),l=n.offsetX,d=n.offsetY,(void 0===l||void 0===d)&&(t=Hi(n),l=t[0],d=t[1]),a=!0,s.display="block",s.left=hu(l),s.top=hu(d),u.on("mouseup",function(n){var t;return n.preventDefault(),h=n.offsetX,g=n.offsetY,(void 0===h||void 0===g)&&(t=Hi(n),h=t[0],g=t[1]),a=!1,s.display="none",s.width=hu(0),s.height=hu(0),u.off("mouseup"),Math.abs(l-h)>5||Math.abs(d-g)>5?r(l,d,h,g):i(l,d)})})},Tr=function(){var n,t,e;return e={},n=function(n,t){var r;return(r=e[n])?r.push(t):e[n]=[t]},t=function(n,t){var r,i,o,u,a;if(n)if(t){if(o=e[n])for(r=u=0,a=o.length;a>u;r=++u)if(i=o[r],i===t){o.splice(r,1);break}}else delete e[n]},ri=function(){var n,t,r,i,o,u;if(t=arguments[0],n=2<=arguments.length?Ju.call(arguments,1):[],i=e[t])for(o=0,u=i.length;u>o;o++)r=i[o],r.apply(null,n)},[n,t,ri]},ti=function(n,t,e,r,i,o){var u,a,s,c,l,h,f,d,g,v,p,m,w,b,y,_,k,x,C,q,S,W,O;return O=ni(n),u=O.baseCanvas,f=O.highlightCanvas,g=O.hoverCanvas,s=O.clipCanvas,m=O.maskCanvas,v=O.marquee,x=O.tooltip,p=O.mask,a=O.clip,C=n.regions.center,S=t.indices,q=void 0,k=function(t,r){var i,o,u,c,l;if(o=p.test(t,r),void 0!==o)for(i=s.context,i.clearRect(0,0,n.width,n.height),c=0,l=e.length;l>c;c++)if(u=e[c],i.save(),i.translate(C.left,C.top),u.mask([o],u.encoders,i,a),i.restore(),a.test(t,r))return o},c=function(n,t,e){var r;return r=Qr(e),gu(x),x.appendChild(r),x.style.display="block",w(n,t)},W=7,w=function(t,e){var r,i,o,u;return u=x.clientWidth,o=x.clientHeight,r=t+W,i=e-W-o,r+u>n.width&&(r=t-W-u),0>i&&(i=e+W),x.style.left=hu(r),x.style.top=hu(i)},l=function(){return x.style.display="none"},d=function(r,i){var u,a,s,h,f,d,v,p,m,b,y,_;if(h=k(r,i),h!==q){if(q=h,s=g.context,s.clearRect(0,0,n.width,n.height),l(),void 0!==h){for(s.save(),s.translate(C.left,C.top),p=0,b=e.length;b>p;p++)f=e[p],f.highlight([h],f.encoders,s);for(s.restore(),o("hover",new ut(t.vectors,h)),d={},m=0,y=e.length;y>m;m++){f=e[m],_=f.encodings;for(u in _)a=_[u],a&&(v=a.vector)&&(d[v.label]=v.format(h))}c(r,i,d)}}else w(r,i)},h=function(t){var r,i,o,a;if(r=f.context,r.clearRect(0,0,n.width,n.height),t.length){for(u.element.style.opacity=.5,r.save(),r.translate(C.left,C.top),o=0,a=e.length;a>o;o++)i=e[o],i.highlight(t,i.encoders,r),i.render(t,i.encoders,r);r.restore()}else u.element.style.opacity=1},y=function(n,e){var r;r=k(n,e),void 0!==r?(h([r]),o("select",new Ht(t.vectors,[r]))):(h([]),o("deselect",new j(t.vectors)))},_=function(n,r,i,u){var a,s,c,l,f,d,g,v;for(l=-C.left+(n>i?i:n),c=-C.left+(n>i?n:i),d=-C.top+(r>u?u:r),f=-C.top+(r>u?r:u),g=0,v=e.length;v>g;g++)a=e[g],s=a.select(S,a.encoders,l,d,c,f),h(s),s.length?o("select",new Ht(t.vectors,s)):o("deselect",new j(t.vectors))},b=function(){var t,o,a,s,c;for(t=u.context,a=m.context,_u(t,r,C),ku(t,i,C),t.save(),t.translate(C.left,C.top),a.save(),a.translate(C.left,C.top),s=0,c=e.length;c>s;s++)o=e[s],o.render(S,o.encoders,t),o.mask(S,o.encoders,a,p);a.restore(),t.restore(),pu(t,r,n.regions.bottom),mu(t,i,n.regions.left)},nr(g.element,v,d,_,y),new Re(O,t,k,h,d,y,_,b)},vu=function(n,t,e,r,i){var o,u,a,s,l,h,f,d,g,v,p,m,w,b,y,_,k,x;if(n.font=qo.axisLabelFont,n.fillStyle=qo.axisLabelColor,n.strokeStyle=qo.axisTickColor,n.textBaseline="middle",m=Du+4,l=e-m,n.save(),rr(n,m,0,l,r),n.textAlign="right",p=e-5,a=e-6,t instanceof c){for(k=t.guide(),w=0,y=k.length;y>w;w++)o=k[w],u=o.value,d=t.scale(o),v=-.5+Math.round(d),ui(n,p,v,e,v),n.fillText(u,a,d,l-6);ui(n,e-.5,0,e-.5,r)}else{if(!(t instanceof lt))throw new Error("Invalid axis type.");for(f=6,h=r-6,x=t.guide(),b=0,_=x.length;_>b;b++)g=x[b],u=g.label,d=t.scale(g.value),v=Math.max(.5,-.5+Math.round(d)),ui(n,p,v,e,v),s=f>d?f:d>h?h:d,n.fillText(u,a,s,l-6);ui(n,e-.5,0,e-.5,r)}return n.restore(),n.font=qo.axisTitleFont,n.textAlign="center",n.translate(m/2,r/2),n.rotate(i*rt),n.fillText(t.label,0,0,r),n.restore()},yu=function(n,t,e,r){var i,o,u,a,s;if(n.strokeStyle=qo.gridLineColor,t instanceof c)ui(n,0,.5,e,.5),ui(n,0,r-.5,e,r-.5);else if(t instanceof lt)for(s=t.guide(),u=0,a=s.length;a>u;u++)i=s[u],o=Math.max(.5,-.5+Math.round(t.scale(i.value))),ui(n,0,o,e,o)},_u=function(n,t,e){return n.save(),n.translate(e.left,e.top+e.height),n.rotate(-rt),yu(n,t,e.height,e.width),n.restore()},ku=function(n,t,e){return n.save(),n.translate(e.left,e.top),yu(n,t,e.width,e.height),n.restore()},pu=function(n,t,e){return n.save(),n.translate(e.left,e.top+e.height),n.rotate(-rt),vu(n,t,e.height,e.width,1),n.restore()},mu=function(n,t,e){return n.save(),n.translate(e.left,e.top),vu(n,t,e.width,e.height,-1),n.restore()},lr=function(n,t){var e,r,i,o,u,a,s,c,l;return 0<=(a=n.indexOf(" "))?(c=n.substr(0,a),e=n.substr(a)):c=n,l=c.split(/\.+/g),s=l[0],i=2<=l.length?Ju.call(l,1):[],0===s.indexOf("#")&&(u=s.substr(1),s="div"),""===s&&(s="div"),r="<"+s,u&&(r+=" id='"+u+"'"),i.length&&(r+=" class='"+i.join(" ")+"'"),e&&(r+=e),r+=">",o="</"+s+">","="===t?function(n){return r+(null!==n&&void 0!==n?n:"")+o}:"+"===t?function(n,t){var e;return e=r.replace("{0}",t),e+n+o}:function(n){return r+n.join("")+o}},$u={},Mr=function(){var n,t,e,r,i,o,u;for(e=1<=arguments.length?Ju.call(arguments,0):[],u=[],i=0,o=e.length;o>i;i++)t=e[i],(n=$u[t])?u.push(n):(r=t.charAt(0),u.push("="===r||"+"===r?$u[t]=lr(t.substr(1),r):$u[t]=lr(t)));return u},xu=function(n){var t;return t=document.createElement("div"),t.innerHTML=n,t.childNodes[0]},$r=function(n){var t,e,r,i,o,u;for(e=null,t=null,u=null,i=0,o=n.length;o>i;i++)if(r=n[i],null===e)switch(e=r.type){case _e:u=r,t=r.domain;break;case we:t=r.domain;break;default:throw new Error("ni")}else{if(e!==r.type)throw new Error("Incompatible axis vector ["+r.label+"]. Expect type ["+e+"], got ["+r.type+"]");switch(e){case _e:if(u!==r)throw new Error("Incompatible categorical vector ["+r.label+"]. Expected ["+u.label+"].");break;case we:t=cr(t,r.domain);break;default:throw new Error("ni")}}return new ie(e,n,t)},_r=function(n){var t,e;return t=function(){var t,r,i;for(i=[],t=0,r=n.length;r>t;t++)e=n[t],i.push(e.label);return i}(),_.unique(t).join(", ")},hr=function(n,t){var e,r,i,o,a,s,l,h,f,d,g,v,p;if(l=new Pt(0,0,400,400),e=yr(n,"",t,new Jt(0,l.width),l),s=Du+4+6+10,e instanceof c){for(a=0,r=e.guide(),f=0,g=r.length;g>f;f++)i=r[f],a<(o=(""+i.value).length)&&(a=o);return new u(Math.ceil(a*Du+s),Math.ceil(r.length*(Du+8)))}if(e instanceof lt){for(a=0,r=e.guide(),p=e.guide(),d=0,v=p.length;v>d;d++)h=p[d],a<(o=h.label.length)&&(a=o);return new u(Math.ceil(a*Du+s),qo.visualizationSize.height)}throw new Error("Invalid axis type.")},yr=function(n,t,e,r,i){var o,u,a,s,l;switch(n){case _e:return u=Rr(e,r),o=function(){return e},new c(n,t,u,e,r,i,o);case we:return l=zr(e,r),u=l[0],a=l[1],s=l[2],o=function(n){var t,e,r,i,o,u;for(null==n&&(n=10),t=a(n),o=s(n),u=[],r=0,i=o.length;i>r;r++)e=o[r],u.push(new Se(e,t(e)));return u},new lt(n,t,u,e,r,i,o);default:throw new Error("Unhandled axis type ["+n+"].")}},Nu=function(n,t){var e,r;return r=Vr(t),e=du(n,r),Di(t,xe)?Eu(e,t):Di(t,Mt)?Wu(e,t):qu(e,t)},Wu=function(n,t){var e,r,i,o,u,a,s,c,l,h,f,d,g,v,p,m;return u=Di(t,Mt),i=u.index,m=Mr("=table.lightning-record","tbody","tr","=th","=td"),s=m[0],c=m[1],f=m[2],h=m[3],l=m[4],d=function(){var t,e;t=n.schema,e=[];for(o in t)p=t[o],v=p.format(i),r=function(){switch(p.type){case _e:return void 0!==v?_.escape(v):"-";case we:return void 0!==v?_.escape(v):"-";case be:return void 0!==v?v:"-";default:throw new Error("Cannot render table cell of type "+p.type)}}(),e.push(f([h(_.escape(p.label)),l(r)]));return e}(),e=xu(s(c(d))),a=_.noop,g=_.noop,new Ct(e,a,g)},Eu=function(n,t){var e,r,i,o,u,a,s,c,l,h,f,d,g,v,p,m,w,b,y,k,x,C;return a=Di(t,xe),k=function(){var t,e,i,o;if(a.fields.length){for(i=a.fields,o=[],t=0,e=i.length;e>t;t++)r=i[t],o.push(n.evaluate(r));return o}return n.vectors}(),x=_.flatten(k),C=Mr("table.lightning-table","=thead","tbody","tr","=th","=th.lightning-number","=td","=td.lightning-number"),u=C[0],d=C[1],s=C[2],p=C[3],f=C[4],g=C[5],c=C[6],l=C[7],v=function(){var n,t,e;for(e=[],n=0,t=x.length;t>n;n++)switch(y=x[n],y.type){case we:e.push(g(_.escape(y.label)));break;default:e.push(f(_.escape(y.label)))}return e}(),m=function(){var t,e,r,o;for(r=n.indices,o=[],t=0,e=r.length;e>t;t++)i=r[t],h=function(){var n,t,e;for(e=[],n=0,t=x.length;t>n;n++)switch(y=x[n],b=y.format(i),y.type){case _e:e.push(c(void 0!==b?_.escape(b):"-"));break;case we:e.push(l(void 0!==b?_.escape(b):"-"));
break;case be:e.push(c(void 0!==b?b:"-"));break;default:throw new Error("Cannot render table cell of type "+y.type)}return e}(),o.push(p(h));return o}(),e=xu(u([d(p(v)),s(m)])),o=_.noop,w=_.noop,new Ct(e,o,w)},qu=function(n,t){var e,r,i,o,s,c,l,h,f,d,g,v,p,m,w,b,y,k,x,C,q,S,W,O;return v=_.map(Li(t,vt),function(t){var e,r;return r=function(){var r,i,o,u;for(o=t.position.coordinates,u=[],r=0,i=o.length;i>r;r++)e=o[r],u.push(n.evaluate(e.field));return u}(),Fr(t,_.flatten(r))}),y=_.map(v,function(n){return n.space}),C=Gi(y,function(n){return n.x}),q=Gi(y,function(n){return n.y}),w=$r(C),b=$r(q),f=w.type===we&&b.type===_e?no(w.domain):w.domain,d=b.type===we&&w.type===_e?no(b.domain):b.domain,e=hr(w.type,f),r=hr(b.type,d),l=null!=(W=Di(t,u))?W:new u(Math.min(qo.maxCanvasSize.width,r.width+e.height),Math.min(qo.maxCanvasSize.height,e.width+r.height)),h=new a(l.width,l.height,new dt(Math.min(.3*qo.maxCanvasSize.width,r.width),0,0,Math.min(.3*qo.maxCanvasSize.height,e.width))),i=h.regions.bottom,o=h.regions.left,p=new Jt(0,i.width),m=b.type===we?new Jt(o.height,0):new Jt(0,o.height),s=yr(w.type,_r(C),f,p,i),c=yr(b.type,_r(q),d,m,o),g=_.map(v,function(t){var e,r,i,o,u;i=t.geometry,r=i.encode(n,t,s,c),e={};for(o in r)u=r[o],(null!=u?u.encode:void 0)&&(e[o]=u.encode);return new at(r,e,i.mask,i.highlight,i.render,i.select)}),O=Tr(),k=O[0],x=O[1],ri=O[2],S=ti(h,n,g,s,c,ri),S.render(),new Ct(S.viewport.container,k,x)},Ru=ri([P,Array,Function,function(n,t,e){return n.read(function(n,r){return n?e(n):Ru(r,t,e)})}],[Z,Array,Function,function(n,t,e){var r;try{return e(null,Nu(n,t))}catch(i){return r=i,e(r)}}]),ao=function(){return Kr({".lightning-tooltip":{background:"#2c2c2c",color:"#fff","font-size":"12px"},".lightning-tooltip th, .lightning-tooltip td":{padding:"0px 4px","vertical-align":"middle"},".lightning-tooltip th":{"text-align":"left"},".lightning-table th, .lightning-table td":{padding:"0px 8px","vertical-align":"middle"},".lightning-table tbody > tr:nth-child(odd)":{"background-color":"#f3f3f3"},".lightning-table .lightning-number":{"text-align":"right"},".lightning-record th, .lightning-record td":{padding:"0px 8px","vertical-align":"middle"},".lightning-record th":{"text-align":"right"},".lightning-record tbody > tr:nth-child(odd)":{"background-color":"#f3f3f3"}})},Hu=null,Du=18,uo=function(){var n,t;return Hu=n=kr(new u(100,100)),t=n.context,t.font=qo.axisLabelFont,Du=t.measureText("M").width},Gu=!1,oo=function(){return Gu?void 0:(ao(),uo(),Gu=!0)},wo=function(){var n,t;return t=1<=arguments.length?Ju.call(arguments,0):[],(n=Di(t,P,Z))?(oo(),function(e){return Ru(n,_.without(t,n),e)}):function(){var n;return n=1<=arguments.length?Ju.call(arguments,0):[],wo.apply(null,t.concat(n))}},wo.VERSION="999.999.999",wo.from=No,wo.value=su,wo.domain=So,wo.range=Jo,wo.position=$o,wo.fillColor=To,wo.fillOpacity=Eo,wo.strokeColor=iu,wo.strokeOpacity=ou,wo.size=eu,wo.width=lu,wo.height=Po,wo.lineWidth=zo,wo.shape=tu,wo.factor=Oo,wo.stack=ru,wo.groupBy=Xo,wo.select=nu,wo.where=cu,wo.having=Mo,wo.eq=Wo,wo.ne=Vo,wo.lt=Ro,wo.gt=Ao,wo.le=Fo,wo.ge=Yo,wo.like=jo,wo.avg=xo,wo.count=Co,wo.max=Bo,wo.min=Lo,wo.sum=uu,wo.parse=Go,wo.point=Uo,wo.rect=Qo,wo.path=Ho,wo.schema=Zo,wo.table=au,wo.record=Ko,wo.createFrame=Ar,wo.createVector=Zr,wo.createList=Ir,wo.createFactor=Nr,null!=("undefined"!=typeof module&&null!==module?module.exports:void 0)?module.exports=wo:window.plot=wo}).call(this);